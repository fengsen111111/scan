{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Users/Desktop/扫码点餐/scan_weixin/home_packages/place_order/index.vue?551b","webpack:///D:/Users/Desktop/扫码点餐/scan_weixin/home_packages/place_order/index.vue?4842","webpack:///D:/Users/Desktop/扫码点餐/scan_weixin/home_packages/place_order/index.vue?7e3d","webpack:///D:/Users/Desktop/扫码点餐/scan_weixin/home_packages/place_order/index.vue?32b5","uni-app:///home_packages/place_order/index.vue","webpack:///D:/Users/Desktop/扫码点餐/scan_weixin/home_packages/place_order/index.vue?b5c6","webpack:///D:/Users/Desktop/扫码点餐/scan_weixin/home_packages/place_order/index.vue?aa92"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","store_id","table_code","tableList","tableShow","formData","goods_list","numberShow","orderForm","coupon_id","table_id","person_number","remark","goodsList","discountShow","discountFirst","discountList","status","a","b","c","d","e","f","moneyObj","confirmFlag","addType","useCoupon","orderId","orderResult","checkValue","checkValue1","payShow","payType","payFlag","userMoney","workerType","option","onLoad","console","setTimeout","methods","discountClose","scanCode","uni","scanType","success","obj","selectTable","tableConfirm","changePayData","goods_type","goods_id","number","choice_des","item","pay_type","changePeopleNum","trash","title","content","changeCarNum","selectCount","changePayType","getCoupon","useCouponEven","checkboxChange","order","icon","duration","delta","confirm","order_id","url","provider","pay","fail"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC8JtnB;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;QACAP;QACAQ;QACAC;QACAC;QACAC;QACAN;MACA;MACAO;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MAEAC;MACAC;MACAC;MAEAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAEAC;MAEAC;IACA;EACA;EACAC;IAAA;IACAC;IACA;IACA;MACA;MACA;MACAA;MACAC;QACA;UAAA;QAAA;QACA;MACA;MACA;MACA;MACA;IACA;IACA;MACA;MACA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;MACAvC;IACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACA;IACA;IACA;EACA;EACAwC;IACAC;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACAC;QACAC;QACAC;UACA;UACA;UACA;UACA;YACAC;UACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACAC;YACAC;YACAC;YACAC;UAAA,GACAC;QAEA;MACA;QACA;MACA;MACA;QACAjD;QACAG;QACA+C;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACAd;QACAe;QACAC;QACAd;UACA;YACA;YACAF;YACA;UACA;QACA;MACA;IAEA;IACAiB;MACA;QACAd;MACA;QACA;UACA;QACA;UACAA;QACA;MACA;MACAH;MACA;IACA;IACAkB;MAAA;MACA;MACA;QACAxD;UACA;YACA6C;YACAC;YACAC;YACAC;UAAA,GACAC;QAEA;MACA;MACA;QACAtD;QACAK;MACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;UACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAyD;MACA;IACA;IACAC;MAAA;MACA;QACAvD;MACA;QACA;MACA;IACA;IACAwD;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAvB;UACAe;UACAS;QACA;QACA;MACA;MACA;QACAxB;UACAe;UACAS;QACA;QACA;MACA;MACA;QACAxB;UACAe;QACA;QACA,8DACA,iBACA,gBACAf,kCACA;QAEAL;;QAEA;QACA;UACAK;UACA;YACAA;YACAA;cACAe;cACAS;cACAC;YACA;YACAzB;cACA0B;YACA;UACA;YACA1B;cACAe;cACAS;cACAC;YACA;UACA;QACA;UACAzB;QACA;QACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA2B;MAAA;MACA;MACA;MACA;MACA;QACA;UACAf;QACA;UACAA;QACA;MACA;QACA;UACAA;QACA;UACAA;QACA;MACA;MACA,gDACA,iBACA,cACA;MACAjB;;MAEA;MACA;MACA;MACA;MACA;MACA;;MAEA;QACA;UACAK;UACA;YACA4B;YACA/D;YACA+C;UACA;YACA;cACAZ;gBACAe;gBACAS;gBACAC;cACA;cAEA7B;gBACA;kBACA;kBACA;oBACA2B;kBACA;gBACA;kBACAvB;oBACA6B;kBACA;gBACA;cACA;YAEA;cACA7B;gBACA8B;cAAA,GACAC;gBACA7B;kBACAF;oBACAe;oBACAS;oBACAC;kBACA;kBACA7B;oBACA;sBACA;sBACA,YACA;wBACA2B;sBACA;oBACA;sBACAvB;wBACA6B;sBACA;oBACA;kBACA;gBACA;gBACAG;kBACAhC;oBACAe;oBACAS;kBACA;kBACA;gBACA;cAAA,GACA;YACA;cACA;cACAxB;gBACAe;gBACAS;gBACAC;cACA;YACA;UACA;YACA;UACA;QACA;UACA;UACAzB;YACAe;YACAS;YACAC;UACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrjBA;AAAA;AAAA;AAAA;AAA6oC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACAjqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"home_packages/place_order/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './home_packages/place_order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=20701db9&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"home_packages/place_order/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=20701db9&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uCheckboxGroup: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group\" */ \"uview-ui/components/u-checkbox-group/u-checkbox-group.vue\"\n      )\n    },\n    uCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-checkbox/u-checkbox\" */ \"uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-empty/u-empty\" */ \"uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-picker/u-picker\" */ \"uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.discountList || _vm.discountList.length === 0\n  var g1 = !_vm.discountList || _vm.discountList.length === 0\n  var l0 = _vm.__map(_vm.discountList, function (item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n    var g2 =\n      item.discount_type === \"a\" ? item.top_price.replace(\".00\", \"\") : null\n    var g3 = item.discount_type === \"a\" ? item.data.replace(\".00\", \"\") : null\n    return {\n      $orig: $orig,\n      g2: g2,\n      g3: g3,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.payShow = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.payShow = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.tableShow = false\n    }\n    _vm.e3 = function ($event) {\n      _vm.tableShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view style=\"height: 1.33vw;\"></view>\r\n\t\t<view class=\"info\" v-if=\"!addType\">\r\n\t\t\t<view class=\"label\">基本信息</view>\r\n\t\t\t<view class=\"option flex alignCenter spaceBetween\">\r\n\t\t\t\t<view class=\"left flex alignCenter\" @click=\"selectTable()\">\r\n\t\t\t\t\t餐位<text>{{table_code||\"请选择\"}}</text>\r\n\t\t\t\t\t<view class=\"scanCode\" @click.stop=\"scanCode()\">扫桌码</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right flex alignCenter\">\r\n\t\t\t\t\t<text style=\"margin-right: 4vw;\">人数</text>\r\n\t\t\t\t\t<text v-if=\"!numberShow\">{{orderForm.person_number}}</text>\r\n\t\t\t\t\t<view class=\"number flex alignCenter\" v-else>\r\n\t\t\t\t\t\t<view class=\"add flex alignCenter justifyCenter\" @click=\"changePeopleNum('min')\">\r\n\t\t\t\t\t\t\t<u-icon name=\"minus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"num flex alignCenter justifyCenter\">\r\n\t\t\t\t\t\t\t{{orderForm.person_number}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"min flex alignCenter justifyCenter\" @click=\"changePeopleNum('add')\">\r\n\t\t\t\t\t\t\t<u-icon name=\"plus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"label\">备注</view>\r\n\t\t\t<view class=\"textarea\">\r\n\t\t\t\t<textarea auto-height maxlength=\"-1\" style=\"min-height: 18.67vw;max-height: 18.67vw;\"\r\n\t\t\t\t\tplaceholder=\"输入备注（选填）\" placeholder-class=\"input_placeholder\" v-model=\"orderForm.remark\"></textarea>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"shopInfo\">\r\n\t\t\t<view class=\"label\">商品信息</view>\r\n\t\t\t<view class=\"item\" v-for=\"(item,index) in goodsList\" :key=\"index\">\r\n\t\t\t\t<view class=\"title flex alignCenter spaceBetween\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t{{item.info.name}}\r\n\t\t\t\t\t\t<text style=\"font-size: 3vw;color: #999999;font-weight: normal;\"\r\n\t\t\t\t\t\t\tv-if=\"item.choice_des\">（{{item.choice_des}}）</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"trash\" color=\"#000000\" size=\"20\" @click=\"trash(index)\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content flex spaceBetween\">\r\n\t\t\t\t\t<image :src=\"item.info.cover_image\" mode=\"\"></image>\r\n\t\t\t\t\t<view class=\"con\">{{item.info.introduce}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price flex alignCenter spaceBetween\">\r\n\t\t\t\t\t单价 ￥{{item.info.price}}\r\n\t\t\t\t\t<view class=\"number flex alignCenter\">\r\n\t\t\t\t\t\t<view class=\"add flex alignCenter justifyCenter\" @click=\"changeCarNum(item,'min',index)\">\r\n\t\t\t\t\t\t\t<u-icon name=\"minus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"num flex alignCenter justifyCenter\">\r\n\t\t\t\t\t\t\t{{item.num}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"min flex alignCenter justifyCenter\" @click=\"changeCarNum(item,'add',index)\">\r\n\t\t\t\t\t\t\t<u-icon name=\"plus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bottom flex alignCenter spaceBetween\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view class=\"top flex alignCenter spaceBetween\">\r\n\t\t\t\t\t<view class=\"left flex alignCenter\">\r\n\t\t\t\t\t\t总计￥{{moneyObj.price||0}}\r\n\t\t\t\t\t\t<text v-if=\"moneyObj.discount_price\">已优惠 ￥{{moneyObj.discount_price||0}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"right\" v-if=\"useCoupon===false&&!workerType\" @click=\"selectCount()\">选择优惠卷</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bottom flex alignCenter spaceBetween\" v-if=\"!workerType\">\r\n\t\t\t\t\t获得积分:{{moneyObj.reward_integral||0}}\r\n\t\t\t\t\t<u-checkbox-group v-model=\"checkValue\" shape=\"circle\" @change=\"checkboxChange\">\r\n\t\t\t\t\t\t<u-checkbox activeColor=\"#EFA246\" labelSize=\"2.67vw\" labelColor=\"#999999\"\r\n\t\t\t\t\t\t\t:label=\"'使用积分抵扣:￥'+(moneyObj.integral_price||0)\" :name=\"1\">\r\n\t\t\t\t\t\t</u-checkbox>\r\n\t\t\t\t\t</u-checkbox-group>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right flex alignCenter\">\r\n\t\t\t\t<view class=\"gotIt\" @click.stop=\"order()\">{{addType?'加菜':'菜品下单'}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup :show=\"discountShow\" :mode=\"discountFirst?'center':'bottom'\" round=\"5.33vw\" @close=\"discountClose()\">\r\n\t\t\t<view class=\"discount_checkbox\" v-if=\"discountFirst\">\r\n\t\t\t\t<u-checkbox-group v-model=\"checkValue1\" shape=\"circle\">\r\n\t\t\t\t\t<u-checkbox activeColor=\"#EFA246\" labelSize=\"2.67vw\" labelColor=\"#999999\"\r\n\t\t\t\t\t\t:label=\"'当前积分可抵扣:￥'+(moneyObj.integral_price||0)+'，是否抵扣'\" :name=\"1\">\r\n\t\t\t\t\t</u-checkbox>\r\n\t\t\t\t</u-checkbox-group>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"discountContent\" :style=\"discountFirst?'width: 85vw;':''\">\r\n\t\t\t\t<view class=\"title flex alignCenter spaceBetween\">\r\n\t\t\t\t\t优惠卷\r\n\t\t\t\t\t<u-icon name=\"close\" color=\"#000000\" size=\"25\" @click=\"discountClose()\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\"\r\n\t\t\t\t\t:style=\"!discountList||discountList.length===0?'height:20vh':'height: 50vh;'\">\r\n\t\t\t\t\t<u-empty mode=\"coupon\" text=\"暂无可用的优惠券\" v-if=\"!discountList||discountList.length===0\"></u-empty>\r\n\t\t\t\t\t<view class=\"item_box\" v-for=\"(item) in discountList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<view class=\"item flex alignCenter\">\r\n\t\t\t\t\t\t\t<image :src=\"item.cover_image\" alt=\"\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view class=\"title flex spaceBetween flexColumn\">\r\n\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t\t<text>{{item.des}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"content flex spaceBetween flexColumn\">\r\n\t\t\t\t\t\t\t\t{{item.discount_type==='a'?'满'+item.top_price.replace('.00','')+'减'+item.data.replace('.00',''):item.data+'折'}}\r\n\t\t\t\t\t\t\t\t<text>有效期至：{{item.end_time}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"type\" v-if=\"item.types\">\r\n\t\t\t\t\t\t\t可用类型：{{item.types}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"get flex flexEnd flexColumn\" :style=\"!item.types?'margin-top:2vw':''\">\r\n\t\t\t\t\t\t\t<view class=\"charge flex alignCenter justifyCenter\" v-if=\"item.has_status==='N'\"\r\n\t\t\t\t\t\t\t\t@click=\"getCoupon(item)\">领取</view>\r\n\t\t\t\t\t\t\t<view class=\"charge flex alignCenter justifyCenter\" v-if=\"item.has_status==='Y'\"\r\n\t\t\t\t\t\t\t\t@click=\"useCouponEven(item)\">使用</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\r\n\t\t<u-popup :show=\"payShow\" mode=\"bottom\" @close=\"payShow=false\" round=\"5.33vw\">\r\n\t\t\t<view class=\"payContent\">\r\n\t\t\t\t<view class=\"title flex alignCenter spaceBetween\">\r\n\t\t\t\t\t支付方式\r\n\t\t\t\t\t<u-icon name=\"close\" size=\"25\" color=\"#000000\" @click=\"payShow=false\"></u-icon>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"chooseItem flex alignCenter spaceBetween\" @click=\"changePayType(2)\">\r\n\t\t\t\t\t<view class=\"item flex alignCenter\">\r\n\t\t\t\t\t\t<u-icon name=\"weixin-fill\" color=\"#68BF7B\" size=\"5.33vw\"></u-icon>\r\n\t\t\t\t\t\t<text>微信</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"checkmark-circle-fill\" color=\"black\" size=\"20\" v-if=\"payType===2\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"chooseItem flex alignCenter spaceBetween\" @click=\"changePayType(1)\">\r\n\t\t\t\t\t<view class=\"item flex alignCenter\">\r\n\t\t\t\t\t\t<image src=\"@/static/money.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t<text>余额</text>\r\n\t\t\t\t\t\t{{userMoney}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"checkmark-circle-fill\" color=\"black\" size=\"20\" v-if=\"payType===1\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"confirm\" @click=\"confirm()\">{{addType?'加菜':'菜品下单'}}</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<u-picker :show=\"tableShow\" :columns=\"[tableList]\" keyName=\"code\" @confirm=\"tableConfirm\" title=\"餐位\"\r\n\t\t\t@cancel=\"tableShow=false\" closeOnClickOverlay @close=\"tableShow=false\"></u-picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstore_id: \"\",\r\n\t\t\t\ttable_code: \"\",\r\n\t\t\t\ttableList: [],\r\n\t\t\t\ttableShow: false,\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tgoods_list: []\r\n\t\t\t\t},\r\n\t\t\t\tnumberShow: true,\r\n\t\t\t\torderForm: {\r\n\t\t\t\t\tstore_id: \"\",\r\n\t\t\t\t\tcoupon_id: \"\",\r\n\t\t\t\t\ttable_id: \"\",\r\n\t\t\t\t\tperson_number: 1,\r\n\t\t\t\t\tremark: \"\",\r\n\t\t\t\t\tgoods_list: [],\r\n\t\t\t\t},\r\n\t\t\t\tgoodsList: [],\r\n\t\t\t\tdiscountShow: false,\r\n\t\t\t\tdiscountFirst: false,\r\n\t\t\t\tdiscountList: [],\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\ta: \"平台通用\",\r\n\t\t\t\t\tb: \"品牌通用\",\r\n\t\t\t\t\tc: \"门店通用\",\r\n\t\t\t\t\td: \"分类通用\",\r\n\t\t\t\t\te: \"菜品限定\",\r\n\t\t\t\t\tf: \"套餐限定\"\r\n\t\t\t\t},\r\n\t\t\t\tmoneyObj: {},\r\n\t\t\t\tconfirmFlag: true,\r\n\r\n\t\t\t\taddType: false,\r\n\t\t\t\tuseCoupon: false,\r\n\t\t\t\torderId: \"\",\r\n\r\n\t\t\t\torderResult: false,\r\n\r\n\t\t\t\tcheckValue: [1],\r\n\t\t\t\tcheckValue1: [],\r\n\t\t\t\tpayShow: false,\r\n\t\t\t\tpayType: 2,\r\n\t\t\t\tpayFlag: true,\r\n\r\n\t\t\t\tuserMoney: 0,\r\n\r\n\t\t\t\tworkerType: false,\r\n\r\n\t\t\t\toption: {}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log('options', options);\r\n\t\t\tthis.option = options\r\n\t\t\tif (options.addType) {\r\n\t\t\t\t// 点击加菜进来的\r\n\t\t\t\tthis.table_code = options.canwei //餐位code\r\n\t\t\t\tconsole.log(options.useCoupon)\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet arr = this.tableList.filter((item) => item.code == options.canwei) //餐位号\r\n\t\t\t\t\tthis.orderForm.table_id = arr[0].id //餐位id\r\n\t\t\t\t}, 1000)\r\n\t\t\t\tthis.addType = true;\r\n\t\t\t\tthis.useCoupon = options.useCoupon !== 'false';\r\n\t\t\t\tthis.orderId = options.orderId\r\n\t\t\t}\r\n\t\t\tif (uni.getStorageSync(\"person_number\")) {\r\n\t\t\t\tthis.orderForm.person_number = uni.getStorageSync(\"person_number\").person_number;\r\n\t\t\t\tthis.numberShow = false;\r\n\t\t\t}\r\n\t\t\tif (options.workerType) {\r\n\t\t\t\tthis.workerType = true\r\n\t\t\t}\r\n\t\t\tthis.goodsList = uni.getStorageSync(\"shop\" + options.id) || [];\r\n\t\t\tthis.orderForm.store_id = options.id;\r\n\t\t\tthis.$request(\"/food/Seat/geSeatList2\", {\r\n\t\t\t\tstore_id: options.id\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.tableList = res.list;\r\n\t\t\t\tif (options.scanType) {\r\n\t\t\t\t\tthis.orderForm.table_id = options.seat_id;\r\n\t\t\t\t\tthis.table_code = options.table_code\r\n\t\t\t\t}\r\n\t\t\t\t//  else {\r\n\t\t\t\t// \tthis.orderForm.table_id = options.seat_id;\r\n\t\t\t\t// \tthis.table_code = options.table_code\r\n\t\t\t\t// }\r\n\t\t\t})\r\n\t\t\tthis.store_id = options.id;\r\n\t\t\tthis.changePayData();\r\n\t\t\tthis.selectCount(\"first\");\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdiscountClose() {\r\n\t\t\t\tthis.discountShow = false;\r\n\t\t\t\tif (this.checkValue1[0] !== 1) {\r\n\t\t\t\t\tthis.checkValue = [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscanCode() {\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tscanType: [\"qrCode\"],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet str = res.result.split(\"?\")[1];\r\n\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\tlet arr = str.split('&');\r\n\t\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\t\t\t\tobj[arr[i].split('=')[0]] = arr[i].split('=')[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.orderForm.table_id = obj.seat_id;\r\n\t\t\t\t\t\tthis.table_code = obj.seat_code\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectTable() {\r\n\t\t\t\tthis.tableShow = true;\r\n\t\t\t},\r\n\t\t\ttableConfirm(e) {\r\n\t\t\t\tconst info = e.value[0];\r\n\t\t\t\tif (info) {\r\n\t\t\t\t\tthis.orderForm.table_id = info.id;\r\n\t\t\t\t\tthis.table_code = info.code;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableShow = false;\r\n\t\t\t},\r\n\t\t\tchangePayData() {\r\n\t\t\t\tif (this.goodsList.length) {\r\n\t\t\t\t\tthis.formData.goods_list = this.goodsList.map(item => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tgoods_type: item.type === 1 ? 'b' : 'a',\r\n\t\t\t\t\t\t\tgoods_id: item.info.id,\r\n\t\t\t\t\t\t\tnumber: item.num,\r\n\t\t\t\t\t\t\tchoice_des: item.choice_des,\r\n\t\t\t\t\t\t\t[item.info.group_goods ? 'group_goods' : '']: item.info.group_goods\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.formData.goods_list = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/food/Order/computePayData\", {\r\n\t\t\t\t\tgoods_list: this.formData.goods_list,\r\n\t\t\t\t\tcoupon_id: this.orderForm.coupon_id,\r\n\t\t\t\t\tpay_type: this.checkValue[0] === 1 ? 'b' : 'a'\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tthis.moneyObj = result;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePeopleNum(type) {\r\n\t\t\t\tif (type === \"add\") {\r\n\t\t\t\t\tthis.orderForm.person_number += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.orderForm.person_number === 1) return;\r\n\t\t\t\t\tthis.orderForm.person_number -= 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttrash(index) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"温馨提示\",\r\n\t\t\t\t\tcontent: \"确认删除吗？\",\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.goodsList.splice(index, 1);\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"shop\" + this.store_id, this.goodsList);\r\n\t\t\t\t\t\t\tthis.changePayData();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tchangeCarNum(obj, type, index) {\r\n\t\t\t\tif (type === \"add\") {\r\n\t\t\t\t\tobj.num += 1\r\n\t\t\t\t} else if (type === \"min\") {\r\n\t\t\t\t\tif (obj.num === 1) {\r\n\t\t\t\t\t\tthis.goodsList.splice(index, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.num -= 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"shop\" + this.store_id, this.goodsList);\r\n\t\t\t\tthis.changePayData();\r\n\t\t\t},\r\n\t\t\tselectCount(type) {\r\n\t\t\t\tlet goods_list = [];\r\n\t\t\t\tif (this.goodsList.length) {\r\n\t\t\t\t\tgoods_list = this.goodsList.map(item => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tgoods_type: item.type === 1 ? 'b' : 'a',\r\n\t\t\t\t\t\t\tgoods_id: item.info.id,\r\n\t\t\t\t\t\t\tnumber: item.num,\r\n\t\t\t\t\t\t\tchoice_des: item.choice_des,\r\n\t\t\t\t\t\t\t[item.info.group_goods ? 'group_goods' : '']: item.info.group_goods\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/food/Coupon/getOrderCoupon\", {\r\n\t\t\t\t\tstore_id: this.store_id,\r\n\t\t\t\t\tgoods_list\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.discountList = res.list;\r\n\t\t\t\t\tif (this.workerType) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (type === \"first\") {\r\n\t\t\t\t\t\tthis.discountFirst = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.discountFirst = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (type === \"first\" && this.discountList.length === 0) {\r\n\t\t\t\t\t\tthis.discountShow = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.discountShow = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePayType(type) {\r\n\t\t\t\tthis.payType = type;\r\n\t\t\t},\r\n\t\t\tgetCoupon(item) {\r\n\t\t\t\tthis.$request(\"/food/Coupon/hasCoupon\", {\r\n\t\t\t\t\tcoupon_id: item.id\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.selectCount();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tuseCouponEven(item) {\r\n\t\t\t\tthis.orderForm.coupon_id = item.id;\r\n\t\t\t\tthis.discountShow = false;\r\n\t\t\t\tthis.changePayData()\r\n\t\t\t},\r\n\t\t\tcheckboxChange(e) {\r\n\t\t\t\tthis.checkValue = e;\r\n\t\t\t\tthis.changePayData()\r\n\t\t\t},\r\n\t\t\torder() {\r\n\t\t\t\tif (!this.table_code) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先选择餐位号\",\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.goodsList.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"商品为空\",\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.workerType) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: \"请稍后……\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet orderForm = {\r\n\t\t\t\t\t\t...this.orderForm,\r\n\t\t\t\t\t\t...this.formData,\r\n\t\t\t\t\t\t...uni.getStorageSync(\"workerOrder\"),\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconsole.log('orderForm', orderForm);\r\n\r\n\t\t\t\t\t// return false\r\n\t\t\t\t\tthis.$request(\"/food/Order/createOrder\", orderForm).then(res => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (res.result === 1) {\r\n\t\t\t\t\t\t\tuni.removeStorageSync(\"shop\" + this.store_id);\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"下单成功\",\r\n\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 2\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"下单失败\",\r\n\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/food/User/getUserInfo\").then(res => {\r\n\t\t\t\t\tthis.userMoney = res.money;\r\n\t\t\t\t\tthis.payShow = true;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tif (!this.payFlag) return;\r\n\t\t\t\tthis.payFlag = false\r\n\t\t\t\tlet pay_type = \"\"\r\n\t\t\t\tif (this.checkValue[0] === 1) {\r\n\t\t\t\t\tif (this.payType === 1) {\r\n\t\t\t\t\t\tpay_type = 'd'\r\n\t\t\t\t\t} else if (this.payType === 2) {\r\n\t\t\t\t\t\tpay_type = 'b'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.checkValue.length === 0) {\r\n\t\t\t\t\tif (this.payType === 1) {\r\n\t\t\t\t\t\tpay_type = 'c'\r\n\t\t\t\t\t} else if (this.payType === 2) {\r\n\t\t\t\t\t\tpay_type = 'a'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet orderForm = {\r\n\t\t\t\t\t...this.orderForm,\r\n\t\t\t\t\t...this.formData,\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(orderForm)\r\n\r\n\t\t\t\t// if (this.addType) {\r\n\t\t\t\t// \torderForm = {\r\n\t\t\t\t// \t\torder_id: this.orderId,\r\n\t\t\t\t// \t\tgoods_list: this.formData.goods_list\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\r\n\t\t\t\tthis.$request(\"/food/Order/createOrder\", orderForm).then(res => {\r\n\t\t\t\t\tif (res.result === 1) {\r\n\t\t\t\t\t\tuni.removeStorageSync(\"shop\" + this.store_id);\r\n\t\t\t\t\t\tthis.$request(\"/food/Order/payOrder\", {\r\n\t\t\t\t\t\t\torder_id: res.order_id,\r\n\t\t\t\t\t\t\tcoupon_id: this.orderForm.coupon_id,\r\n\t\t\t\t\t\t\tpay_type\r\n\t\t\t\t\t\t}).then(pay => {\r\n\t\t\t\t\t\t\tif (pay.result === 1) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tif (this.addType) {\r\n\t\t\t\t\t\t\t\t\t\t// 加菜\r\n\t\t\t\t\t\t\t\t\t\tthis.$nav('/order_packages/cpxdz/index', {\r\n\t\t\t\t\t\t\t\t\t\t\torder: ''\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/Order/index\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t\t} else if (pay.result === 3) {\r\n\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\tprovider: \"wxpay\",\r\n\t\t\t\t\t\t\t\t\t...pay.pay_data,\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (this.addType) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 加菜\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$nav(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'/order_packages/cpxdz/index', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder: ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/Order/index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"用户取消支付\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tthis.payFlag = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.payFlag = true;\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付失败\",\r\n\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tthis.payFlag = true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.payFlag = true;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"下单失败\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.payFlag = true;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.payContent {\r\n\t\tpadding: 4.93vw 4vw;\r\n\r\n\t\t>.confirm {\r\n\t\t\twidth: 80vw;\r\n\t\t\theight: 12vw;\r\n\t\t\tline-height: 12vw;\r\n\t\t\ttext-align: center;\r\n\t\t\tbackground: #000000;\r\n\t\t\tborder-radius: 6vw;\r\n\t\t\tmargin: 10vw auto 0;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 4vw;\r\n\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t}\r\n\r\n\t\t>.chooseItem {\r\n\t\t\tmargin-top: 8.27vw;\r\n\t\t\tpadding: 0 6.67vw;\r\n\r\n\t\t\t>.item {\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\tcolor: #666666;\r\n\r\n\t\t\t\t>image {\r\n\t\t\t\t\tmax-width: 5.33vw;\r\n\t\t\t\t\tmax-height: 5.33vw;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>text {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tmargin: 0 2.67vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t>.title {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 4.27vw;\r\n\t\t\tcolor: #000000;\r\n\t\t}\r\n\t}\r\n\r\n\t.discount_checkbox {\r\n\t\tbackground: #FFFFFF;\r\n\t\tmargin: -10vw auto 0;\r\n\t\tborder-radius: 5.33vw;\r\n\t\twidth: calc(100% - 10vw);\r\n\t\theight: 8vw;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 5vw;\r\n\t}\r\n\r\n\t.discountContent {\r\n\t\tpadding: 5.33vw 4vw 0;\r\n\r\n\t\t>.title {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 4.27vw;\r\n\t\t\tcolor: #000000;\r\n\t\t\tmargin-bottom: 5.33vw;\r\n\t\t}\r\n\r\n\t\t.item_box {\r\n\t\t\tpadding: 2.67vw;\r\n\t\t\tbackground: #FBFBFB;\r\n\t\t\tborder-radius: 1.33vw;\r\n\t\t\tborder: 0.27vw solid #ED1805;\r\n\t\t\tmargin-bottom: 4vw;\r\n\r\n\t\t\t>.get {\r\n\t\t\t\t>.charge {\r\n\t\t\t\t\twidth: 21.33vw;\r\n\t\t\t\t\theight: 8vw;\r\n\t\t\t\t\tbackground: #000000;\r\n\t\t\t\t\tborder-radius: 4vw;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.type {\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\tcolor: #666666;\r\n\t\t\t\tmargin: 1.33vw 0;\r\n\t\t\t}\r\n\r\n\t\t\t>.item {\r\n\t\t\t\tpadding-bottom: 2.67vw;\r\n\t\t\t\tborder-bottom: solid 1px #F5F5F5;\r\n\r\n\t\t\t\t>.content {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #ED1805;\r\n\t\t\t\t\tflex: auto;\r\n\t\t\t\t\talign-items: flex-end;\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.title {\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tfont-size: 3.73vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tflex: auto;\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>image {\r\n\t\t\t\t\twidth: 9.6vw;\r\n\t\t\t\t\theight: 9.6vw;\r\n\t\t\t\t\tborder-radius: 1.33vw;\r\n\t\t\t\t\tmargin-right: 2.67vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tmin-height: calc(100vh - 13vw - constant(safe-area-inset-bottom));\r\n\t\tmin-height: calc(100vh - 13vw - env(safe-area-inset-bottom));\r\n\t\tbackground: #F5F5F5;\r\n\t\tpadding-bottom: calc(13vw + constant(safe-area-inset-bottom));\r\n\t\t/*兼容 IOS&gt;11.2*/\r\n\t\tpadding-bottom: calc(13vw + env(safe-area-inset-bottom));\r\n\t\t/*兼容 IOS&gt;11.2*/\r\n\r\n\t\t>.bottom {\r\n\t\t\twidth: calc(100% - 8vw - 2px);\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t\t\tpadding-left: 4vw;\r\n\t\t\tpadding-right: 4vw;\r\n\t\t\tleft: 0;\r\n\t\t\theight: 12.8vw;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tborder-radius: 1.33vw 1.33vw 0 0;\r\n\t\t\tborder: 1px solid #999999;\r\n\t\t\tpadding-top: 2.67vw;\r\n\r\n\t\t\t>.right {\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\tcolor: #FA4741;\r\n\r\n\t\t\t\t>.gotIt {\r\n\t\t\t\t\twidth: 26.67vw;\r\n\t\t\t\t\theight: 8vw;\r\n\t\t\t\t\tline-height: 8vw;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tbackground: #000000;\r\n\t\t\t\t\tborder-radius: 6vw;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t\t\t\tmargin-left: 4vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.left {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 4vw;\r\n\t\t\t\tcolor: #ED1805;\r\n\t\t\t\tflex: auto;\r\n\r\n\t\t\t\t>.bottom {\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.top {\r\n\t\t\t\t\tmargin-bottom: 1.73vw;\r\n\r\n\t\t\t\t\t>.left {\r\n\t\t\t\t\t\t>text {\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\tmargin-left: 1.33vw;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t>.right {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\tcolor: #FA4741;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t>.shopInfo {\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tpadding: 4vw;\r\n\r\n\t\t\t>.item {\r\n\t\t\t\tborder-bottom: solid 1px #999999;\r\n\r\n\t\t\t\t>.title {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tmargin-top: 5.33vw;\r\n\t\t\t\t\tmargin-bottom: 2.67vw;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.content {\r\n\t\t\t\t\t>image {\r\n\t\t\t\t\t\twidth: 21.33vw;\r\n\t\t\t\t\t\theight: 21.33vw;\r\n\t\t\t\t\t\tborder-radius: 2.67vw;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t>.con {\r\n\t\t\t\t\t\twidth: 67vw;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.price {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4.8vw;\r\n\t\t\t\t\tcolor: #ED1805;\r\n\t\t\t\t\tmargin-top: 4vw;\r\n\t\t\t\t\tmargin-bottom: 4vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.label {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t>.info {\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tpadding: 4vw;\r\n\t\t\tmargin-bottom: 1.33vw;\r\n\r\n\t\t\t>.textarea {\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tborder-radius: 1.33vw;\r\n\t\t\t\tmargin-top: 1.73vw;\r\n\t\t\t\tpadding: 2vw;\r\n\r\n\t\t\t\t>textarea {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.option {\r\n\t\t\t\tmargin: 4.13vw 0;\r\n\r\n\t\t\t\t>.right {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.left {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\r\n\t\t\t\t\t>.scanCode {\r\n\t\t\t\t\t\twidth: 15.2vw;\r\n\t\t\t\t\t\theight: 6.67vw;\r\n\t\t\t\t\t\tline-height: 6.67vw;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: #000000;\r\n\t\t\t\t\t\tborder-radius: 4vw;\r\n\t\t\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t\t\t\t\tmargin-left: 2vw;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\tmargin-left: 4vw;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.label {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.number {\r\n\t\t\twidth: 34.67vw;\r\n\t\t\theight: 8vw;\r\n\t\t\tborder-radius: 4vw;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t>.min {\r\n\t\t\t\twidth: 10.67vw;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #000000;\r\n\t\t\t}\r\n\r\n\t\t\t>.num {\r\n\t\t\t\twidth: 13.33vw;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 4.27vw;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\r\n\t\t\t>.add {\r\n\t\t\t\twidth: 10.67vw;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747731858925\n      var cssReload = require(\"D:/Users/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}