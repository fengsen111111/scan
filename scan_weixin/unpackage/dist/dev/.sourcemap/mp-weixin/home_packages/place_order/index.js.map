{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/Users/Desktop/scan/scan_weixin/home_packages/place_order/index.vue?8392","webpack:///D:/Users/Desktop/scan/scan_weixin/home_packages/place_order/index.vue?3c0a","webpack:///D:/Users/Desktop/scan/scan_weixin/home_packages/place_order/index.vue?c159","uni-app:///home_packages/place_order/index.vue","webpack:///D:/Users/Desktop/scan/scan_weixin/home_packages/place_order/index.vue?84a6","webpack:///D:/Users/Desktop/scan/scan_weixin/home_packages/place_order/index.vue?7a7d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","cityPicker","data","defaultValue","store_id","table_code","tableList","tableShow","formData","goods_list","numberShow","orderForm","coupon_id","table_id","person_number","remark","order_id","goodsList","discountShow","discountFirst","discountList","status","a","b","c","d","e","f","moneyObj","confirmFlag","addType","useCoupon","orderId","orderResult","checkValue","checkValue1","payShow","payType","payFlag","userMoney","workerType","option","is_request_ok","jwdxx","visOrderId","btnBianshe","onLoad","uni","title","mask","setTimeout","console","icon","duration","onShow","methods","clearShopDel","keys","discountClose","scanCode","success","obj","scan_id","url","resule_order","selectTable","tableConfirm","changePayData","goods_type","goods_id","number","choice_des","item","pay_type","changePeopleNum","trash","content","changeCarNum","selectCount","changePayType","getCoupon","useCouponEven","checkboxChange","zj_order","location","type","that","confirmText","cancelText","res","then","fail","money","tc_confirm","provider","pay"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACqKtnB;AAEA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;QACAP;QACAQ;QACAC;QACAC;QACAC;QACAN;QACAO;MACA;;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MAEAC;MACAC;MACAC;MAEAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAEAC;MAEAC;MAEAC;MAAA;;MAEAC;MAEAC;MAAA;;MAEAC;IACA;EACA;EACAC;IAAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAH;IACA;IACA;IACAI;IACA;MACA;IAAA,CACA;MACAJ;QACAC;QACAI;QACAC;MACA;MACAH;QACA;QACA;QACA;QACAH;MACA;IACA;IACA;IACA;MACA3C;IACA;MACA;MACA;MACA;QACA;UAAA;QAAA;QACA+C;QACA;UACA;UACA;QACA;MACA;IACA;IACA;IACA;IACA;IACA;MACAJ;QACAC;QACAC;MACA;MACA;MACA;MACA;MACA;MACAE;MACAD;QACA;UAAA;QAAA;QACAC;QACA;QACAJ;MACA;MACA;MACA;MACA;IACA;IACA;MACA;MACA;IACA;IACA;IACA;MACA;IACA;IACA;IACAA;IACA;IAEA;IACA;IACA;IACA;EACA;EACAO;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACA;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;MACAC;QACA;UACA;UACAV;UACAI;QACA;MACA;IACA;IACA;IACAO;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACAhE;QACAiE;UACA;UACA;UACA;UACA;YACAC;UACA;UACA;UACA;YACAC;UACA;YACA;YACA;YACA;YACA;cACA;cACAjD;YACA;cACA;cACA;gBACAkC;kBACAgB,0CACAC;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACAd;MACA;QACAA;QACA;MACA;QACA;QACA;MACA;IACA;IACAe;MACA;MACA;MACA;MACAf;MACA;QACA;QACA;MACA;MACA;IACA;IACAgB;MAAA;MACA;QACA;UACA;YACAC;YACAC;YACAC;YACAC;UAAA,GACAC;QAEA;MACA;QACA;MACA;MACA;QACA/D;QACAG;QACA6D;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA5B;QACAC;QACA4B;QACAhB;UACA;YACA;YACAb;YACA;UACA;QACA;MACA;IAEA;IACA8B;MACA;QACAhB;MACA;QACA;UACA;QACA;UACAA;QACA;MACA;MACAd;MACA;IACA;IACA+B;MAAA;MACA;MACA;QACArE;UACA;YACA2D;YACAC;YACAC;YACAC;UAAA,GACAC;QAEA;MACA;MACA;QACApE;QACAK;MACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;UACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAsE;MACA;IACA;IACAC;MAAA;MACA;QACApE;MACA;QACA;MACA;IACA;IACAqE;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACApC;UACAC;UACAI;QACA;QACA;MACA;MACA;QACAL;UACAC;UACAI;QACA;QACA;MACA;MAEA;QACAL;UACAC;UACAC;QACA;QACA,8DACA,iBACA;UACA;UACAmC;QAAA,EACA;QACA;UACAzE;QACA;QACA;UACAA;QACA;QACA;UACAA;QACA;;QAEA;QACA;QACAoC;UACAsC;UAAA;UACAzB;YACA;YACA;YACAjD;YACA2E;YACA;YACA;YACA;YACA;cACAA;YACA;cACAvC;cACAA;gBACAC;gBACAI;gBACAC;cACA;cACA;YACA;;YACAF;YACA;cACA;gBACAJ;kBACAC;kBACA4B;kBACAW;kBACAC;kBACA5B;oBACA;sBACAT;sBACAmC;sBACA;sBACAvC,sBACA;sBACAA;wBACAgB,4CACA0B,IACAzE;sBACA;sBACA;oBACA;sBACAmC;sBACA;sBACAJ;sBACAuC,wCACAI;wBACAJ;wBACAA;wBACAA,qBACA;sBACA;oBACA;kBACA;gBACA;;gBACApC;kBACAoC;gBACA;cACA;gBACAA;kBACAnC;kBACAD;oBACAH;kBACA;kBACA;oBACAuC;oBACAvC;sBACAC;sBACA4B;sBACAW;sBACAC;sBACA5B;wBACA;0BACAT;0BACAmC;0BACA;0BACAvC,sBACA;0BACAA;4BACAgB,4CACA0B,IACAzE;0BACA;0BACA;wBACA;0BACAmC;0BACA;0BACAJ;0BACAuC,wCACAI;4BACAJ;4BACAA;4BACAA,qBACA;0BACA;wBACA;sBACA;oBACA;;oBACApC;sBACAoC;oBACA;kBACA;oBACAvC;sBACAC;sBACAI;sBACAC;oBACA;oBACAiC;kBACA;gBACA;cACA;;cAEA;YACA;cACAvC;cACAuC;gBACAA;gBACAA;gBACAA;cACA;YACA;UACA;;UACAK;YACAxC;YACA;YACAA;YACA;cACA;YAAA,CACA;cACA;cACAxC,4EACA;cACA;gBACA2E;cACA;gBACAvC;gBACAA;kBACAC;kBACAI;kBACAC;gBACA;gBACA;cACA;;cACAF;cACAA;cACA;gBACA;kBACAJ;oBACAC;oBACA4B;oBACAW;oBACAC;oBACA5B;sBACA;wBACAT;wBACAmC;wBACA;wBACAvC,sBACA;wBACAA;0BACAgB,4CACA0B,IACAzE;wBACA;wBACA;sBACA;wBACAmC;wBACA;wBACAJ;wBACAuC,wCACAI;0BACAJ;0BACAA;0BACAA,qBACA;wBACA;sBACA;oBACA;kBACA;;kBACApC;oBACAoC;kBACA;gBACA;kBACAA;oBACAnC;oBACAD;sBACAH;oBACA;oBACA;sBACAuC;sBACAvC;wBACAC;wBACA4B;wBACAW;wBACAC;wBACA5B;0BACA;4BACAT;4BACAmC;4BACA;4BACAvC,sBACA;4BACAA;8BACAgB,4CACA0B,IACAzE;4BACA;4BACA;0BACA;4BACAmC;4BACA;4BACAJ;4BACAuC,cACA,0BACAI;8BACAJ,qBACAM;8BACAN;8BACAA,qBACA;4BACA;0BACA;wBACA;sBACA;;sBACApC;wBACAoC;sBACA;oBACA;sBACAvC;wBACAC;wBACAI;wBACAC;sBACA;sBACAiC;oBACA;kBACA;gBACA;;gBACA;cACA;gBACAvC;gBACAuC;kBACAA;kBACAA;kBACAA;gBACA;cACA;YACA;YACA;UACA;QACA;;QAEA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAO;MACA;MACA;MACA;MACA;QACA;UACApB;QACA;UACAA;QACA;MACA;QACA;UACAA;QACA;UACAA;QACA;MACA;MACA,8DACA,iBACA;QACAW;MAAA,EACA;MACAjC;MACAA;MAEA;MACAmC;MACAvC;QACAC;QACAC;MACA;MAEAC;QACA;QACA;UACAoC;YACAtE;YACAJ;YACA6D;UACA;YACAa;YACAvC;YACA;cACAuC;cACAvC;gBACAC;gBACAI;gBACAC;cACA;cACAH;gBACA;kBACA;kBACAH;oBACAgB,gDACA/C;kBACA;gBACA;kBACA+B;oBACAgB;kBACA;gBACA;cACA;YACA;cACAuB;cACAvC;gBACA+C;cAAA,GACAC;gBACAnC;kBACAb;oBACAC;oBACAI;oBACAC;kBACA;kBACAH;oBACA;sBACA;sBACAH;wBACAgB,4CACA0B;sBACA;oBACA;sBACA1C;wBACAgB;sBACA;oBACA;kBAEA;gBACA;gBACA4B;kBACA5C;oBACAC;oBACAI;kBACA;kBACAkC;gBACA;cAAA,GACA;YACA;cACAA;cACAvC;gBACAC;gBACAI;gBACAC;cACA;YACA;UACA;YACAiC;YACAvC;YACAuC;UACA;QACA;UACAA;YACAA;YACAvC;YACAuC;YACA;cACAA;cACAvC;cACAuC;gBACAtE;gBACAJ;gBACA6D;cACA;gBACA;kBACAa;kBACAvC;oBACAC;oBACAI;oBACAC;kBACA;kBACAH;oBACA;sBACA;sBACAH;wBACAgB,4CACA0B,IACAzE;sBACA;oBACA;sBACA+B;wBACAgB;sBACA;oBACA;kBAEA;gBAEA;kBACAuB;kBACAvC;oBACA+C;kBAAA,GACAC;oBACAnC;sBACAb;wBACAC;wBACAI;wBACAC;sBACA;sBACAH;wBACA;0BACA;0BACAH;4BACAgB,4CACA0B;0BACA;wBACA;0BACA1C;4BACAgB;0BACA;wBACA;sBAEA;oBACA;oBACA4B;sBACA5C;wBACAC;wBACAI;sBACA;sBACAkC;oBACA;kBAAA,GACA;gBACA;kBACAA;kBACAvC;oBACAC;oBACAI;oBACAC;kBACA;gBACA;cACA;gBACAF;gBACAmC;cACA;YACA;cACAA;cACAvC;gBACAC;gBACAI;gBACAC;cACA;YACA;UACA;YACAiC;YACAvC;YACAuC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1/BA;AAAA;AAAA;AAAA;AAA6oC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACAjqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"home_packages/place_order/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './home_packages/place_order/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=20701db9&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"home_packages/place_order/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=20701db9&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uCheckboxGroup: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group\" */ \"uview-ui/components/u-checkbox-group/u-checkbox-group.vue\"\n      )\n    },\n    uCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-checkbox/u-checkbox\" */ \"uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-empty/u-empty\" */ \"uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.goodsList.length\n  var g1 = !_vm.discountList || _vm.discountList.length === 0\n  var g2 = !_vm.discountList || _vm.discountList.length === 0\n  var l0 = _vm.__map(_vm.discountList, function (item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n    var g3 =\n      item.discount_type === \"a\" ? item.top_price.replace(\".00\", \"\") : null\n    var g4 = item.discount_type === \"a\" ? item.data.replace(\".00\", \"\") : null\n    return {\n      $orig: $orig,\n      g3: g3,\n      g4: g4,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.payShow = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.payShow = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.tableShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view style=\"height: 1.33vw;\"></view>\r\n\t\t<view class=\"info\" v-if=\"!addType\">\r\n\t\t\t<view class=\"label\">基本信息</view>\r\n\t\t\t<view class=\"option flex alignCenter spaceBetween\">\r\n\t\t\t\t<view class=\"left flex alignCenter\" @click=\"selectTable()\">\r\n\t\t\t\t\t餐位\r\n\t\t\t\t\t<text>{{table_code||\"请选择\"}}</text>\r\n\t\t\t\t\t<view class=\"scanCode\" @click.stop=\"scanCode()\">扫桌码</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right flex alignCenter\">\r\n\t\t\t\t\t<text style=\"margin-right: 4vw;\">人数</text>\r\n\t\t\t\t\t<text v-if=\"!numberShow\">{{orderForm.person_number}}</text>\r\n\t\t\t\t\t<view class=\"number flex alignCenter\" v-else>\r\n\t\t\t\t\t\t<view class=\"add flex alignCenter justifyCenter\" @click=\"changePeopleNum('min')\">\r\n\t\t\t\t\t\t\t<u-icon name=\"minus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"num flex alignCenter justifyCenter\">\r\n\t\t\t\t\t\t\t{{orderForm.person_number}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"min flex alignCenter justifyCenter\" @click=\"changePeopleNum('add')\">\r\n\t\t\t\t\t\t\t<u-icon name=\"plus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"label\">备注</view>\r\n\t\t\t<view class=\"textarea\">\r\n\t\t\t\t<textarea auto-height maxlength=\"-1\" style=\"min-height: 18.67vw;max-height: 18.67vw;\"\r\n\t\t\t\t\tplaceholder=\"输入备注（选填）\" placeholder-class=\"input_placeholder\" v-model=\"orderForm.remark\"></textarea>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"shopInfo\">\r\n\t\t\t<view class=\"label\">商品信息</view>\r\n\t\t\t<image v-if=\"goodsList.length==0\" src=\"@/static/empty.jpg\" style=\"width: 100%;\" mode=\"\"></image>\r\n\t\t\t<view class=\"item\" v-for=\"(item,index) in goodsList\" :key=\"index\">\r\n\t\t\t\t<view class=\"title flex alignCenter spaceBetween\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t{{item.info.name}}\r\n\t\t\t\t\t\t<text style=\"font-size: 3vw;color: #999999;font-weight: normal;\"\r\n\t\t\t\t\t\t\tv-if=\"item.choice_des\">（{{item.choice_des}}）</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"trash\" color=\"#000000\" size=\"20\" @click=\"trash(index)\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content flex spaceBetween\">\r\n\t\t\t\t\t<image v-if=\"item.info.cover_image\" :src=\"item.info.cover_image\" mode=\"\"></image>\r\n\t\t\t\t\t<image v-else src=\"../../static/cpmrt.png\" mode=\"\"></image>\r\n\t\t\t\t\t<view class=\"con\">{{item.info.introduce}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price flex alignCenter spaceBetween\">\r\n\t\t\t\t\t单价 ￥{{item.info.price}}\r\n\t\t\t\t\t<view class=\"number flex alignCenter\">\r\n\t\t\t\t\t\t<view class=\"add flex alignCenter justifyCenter\" @click=\"changeCarNum(item,'min',index)\">\r\n\t\t\t\t\t\t\t<u-icon name=\"minus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"num flex alignCenter justifyCenter\">\r\n\t\t\t\t\t\t\t{{item.num}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"min flex alignCenter justifyCenter\" @click=\"changeCarNum(item,'add',index)\">\r\n\t\t\t\t\t\t\t<u-icon name=\"plus\" color=\"rgb(245,232,174)\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bottom flex alignCenter spaceBetween\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view class=\"top flex alignCenter spaceBetween\">\r\n\t\t\t\t\t<view class=\"left flex alignCenter\">\r\n\t\t\t\t\t\t总计￥{{moneyObj.price||0}}\r\n\t\t\t\t\t\t<!-- <text v-if=\"moneyObj.discount_price\">已优惠 ￥{{moneyObj.discount_price||0}}</text> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"right\" v-if=\"useCoupon===false&&!workerType\" @click=\"selectCount()\">选择优惠卷</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bottom flex alignCenter spaceBetween\" v-if=\"!workerType\">\r\n\t\t\t\t\t获得积分:{{moneyObj.reward_integral||0}}\r\n\t\t\t\t\t<!-- <u-checkbox-group v-model=\"checkValue\" shape=\"circle\" @change=\"checkboxChange\">\r\n\t\t\t\t\t\t<u-checkbox activeColor=\"#EFA246\" labelSize=\"2.67vw\" labelColor=\"#999999\"\r\n\t\t\t\t\t\t\t:label=\"'使用积分抵扣:￥'+(moneyObj.integral_price||0)\" :name=\"1\">\r\n\t\t\t\t\t\t</u-checkbox>\r\n\t\t\t\t\t</u-checkbox-group> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right flex alignCenter\">\r\n\t\t\t\t<view class=\"gotIt\" @click.stop=\"zj_order()\">{{addType?'加菜':'菜品下单'}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup :show=\"discountShow\" :mode=\"discountFirst?'center':'bottom'\" round=\"5.33vw\" @close=\"discountClose()\">\r\n\t\t\t<view class=\"discount_checkbox\" v-if=\"discountFirst\">\r\n\t\t\t\t<u-checkbox-group v-model=\"checkValue1\" shape=\"circle\">\r\n\t\t\t\t\t<u-checkbox activeColor=\"#EFA246\" labelSize=\"2.67vw\" labelColor=\"#999999\"\r\n\t\t\t\t\t\t:label=\"'当前积分可抵扣:￥'+(moneyObj.integral_price||0)+'，是否抵扣'\" :name=\"1\">\r\n\t\t\t\t\t</u-checkbox>\r\n\t\t\t\t</u-checkbox-group>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"discountContent\" :style=\"discountFirst?'width: 85vw;':''\">\r\n\t\t\t\t<view class=\"title flex alignCenter spaceBetween\">\r\n\t\t\t\t\t优惠卷\r\n\t\t\t\t\t<u-icon name=\"close\" color=\"#000000\" size=\"25\" @click=\"discountClose()\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\"\r\n\t\t\t\t\t:style=\"!discountList||discountList.length===0?'height:20vh':'height: 50vh;'\">\r\n\t\t\t\t\t<u-empty mode=\"coupon\" text=\"暂无可用的优惠券\" v-if=\"!discountList||discountList.length===0\"></u-empty>\r\n\t\t\t\t\t<view class=\"item_box\" v-for=\"(item) in discountList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<view class=\"item flex alignCenter\">\r\n\t\t\t\t\t\t\t<image :src=\"item.cover_image\" alt=\"\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view class=\"title flex spaceBetween flexColumn\">\r\n\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t\t<text>{{item.des}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"content flex spaceBetween flexColumn\">\r\n\t\t\t\t\t\t\t\t{{item.discount_type==='a'?'满'+item.top_price.replace('.00','')+'减'+item.data.replace('.00',''):item.data+'折'}}\r\n\t\t\t\t\t\t\t\t<text>有效期至：{{item.end_time}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"type\" v-if=\"item.types\">\r\n\t\t\t\t\t\t\t可用类型：{{item.types}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"get flex flexEnd flexColumn\" :style=\"!item.types?'margin-top:2vw':''\">\r\n\t\t\t\t\t\t\t<view class=\"charge flex alignCenter justifyCenter\" v-if=\"item.has_status==='N'\"\r\n\t\t\t\t\t\t\t\t@click=\"getCoupon(item)\">领取</view>\r\n\t\t\t\t\t\t\t<view class=\"charge flex alignCenter justifyCenter\" v-if=\"item.has_status==='Y'\"\r\n\t\t\t\t\t\t\t\t@click=\"useCouponEven(item)\">使用</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\r\n\t\t<u-popup :show=\"payShow\" mode=\"bottom\" @close=\"payShow=false\" round=\"5.33vw\">\r\n\t\t\t<view class=\"payContent\">\r\n\t\t\t\t<view class=\"title flex alignCenter spaceBetween\">\r\n\t\t\t\t\t支付方式\r\n\t\t\t\t\t<u-icon name=\"close\" size=\"25\" color=\"#000000\" @click=\"payShow=false\"></u-icon>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"chooseItem flex alignCenter spaceBetween\" @click=\"changePayType(2)\">\r\n\t\t\t\t\t<view class=\"item flex alignCenter\">\r\n\t\t\t\t\t\t<u-icon name=\"weixin-fill\" color=\"#68BF7B\" size=\"5.33vw\"></u-icon>\r\n\t\t\t\t\t\t<text>微信</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"checkmark-circle-fill\" color=\"black\" size=\"20\" v-if=\"payType===2\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"chooseItem flex alignCenter spaceBetween\" @click=\"changePayType(1)\">\r\n\t\t\t\t\t<view class=\"item flex alignCenter\">\r\n\t\t\t\t\t\t<image src=\"@/static/money.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t<text>余额</text>\r\n\t\t\t\t\t\t{{userMoney}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"checkmark-circle-fill\" color=\"black\" size=\"20\" v-if=\"payType===1\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"confirmBianshe\" v-if=\"btnBianshe\">支付中</view>\r\n\t\t\t\t<view class=\"confirm\" v-else @click=\"tc_confirm()\">{{addType?'加菜':'菜品下单'}}</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<cityPicker :mask-close-able=\"true\" @confirm=\"tableConfirm()\" @cancel=\"tableShow=false\" :visible=\"tableShow\"\r\n\t\t\t:dataList=\"tableList\" />\r\n\t\t<!-- <u-picker :show=\"tableShow\" :columns=\"[tableList]\" keyName=\"code\" @confirm=\"tableConfirm\" title=\"餐位\"\r\n\t\t\t@cancel=\"tableShow=false\" closeOnClickOverlay @close=\"tableShow=false\"></u-picker> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport cityPicker from '@/uni_modules/piaoyi-cityPicker/components/piaoyi-cityPicker/piaoyi-cityPicker'\r\n\timport {\r\n\t\tbaseUrl\r\n\t} from \"@/utils/config.js\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tcityPicker\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdefaultValue: '',\r\n\r\n\t\t\t\tstore_id: \"\",\r\n\t\t\t\ttable_code: \"\",\r\n\t\t\t\ttableList: [],\r\n\t\t\t\ttableShow: false,\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tgoods_list: []\r\n\t\t\t\t},\r\n\t\t\t\tnumberShow: true,\r\n\t\t\t\torderForm: {\r\n\t\t\t\t\tstore_id: \"\",\r\n\t\t\t\t\tcoupon_id: \"\",\r\n\t\t\t\t\ttable_id: \"\",\r\n\t\t\t\t\tperson_number: 1,\r\n\t\t\t\t\tremark: \"\",\r\n\t\t\t\t\tgoods_list: [],\r\n\t\t\t\t\torder_id: \"\", //\r\n\t\t\t\t},\r\n\t\t\t\tgoodsList: [],\r\n\t\t\t\tdiscountShow: false,\r\n\t\t\t\tdiscountFirst: false,\r\n\t\t\t\tdiscountList: [],\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\ta: \"平台通用\",\r\n\t\t\t\t\tb: \"品牌通用\",\r\n\t\t\t\t\tc: \"门店通用\",\r\n\t\t\t\t\td: \"分类通用\",\r\n\t\t\t\t\te: \"菜品限定\",\r\n\t\t\t\t\tf: \"套餐限定\"\r\n\t\t\t\t},\r\n\t\t\t\tmoneyObj: {},\r\n\t\t\t\tconfirmFlag: true,\r\n\r\n\t\t\t\taddType: false,\r\n\t\t\t\tuseCoupon: false,\r\n\t\t\t\torderId: \"\",\r\n\r\n\t\t\t\torderResult: false,\r\n\r\n\t\t\t\tcheckValue: [1],\r\n\t\t\t\tcheckValue1: [],\r\n\t\t\t\tpayShow: false,\r\n\t\t\t\tpayType: 2,\r\n\t\t\t\tpayFlag: true,\r\n\r\n\t\t\t\tuserMoney: 0,\r\n\r\n\t\t\t\tworkerType: false,\r\n\r\n\t\t\t\toption: {},\r\n\r\n\t\t\t\tis_request_ok: true, //是否请求完了\r\n\r\n\t\t\t\tjwdxx: '',\r\n\r\n\t\t\t\tvisOrderId: '' ,// 订单id\r\n\t\t\t\t\r\n\t\t\t\tbtnBianshe:false,//弹窗按钮变色\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},2000)\r\n\t\t\t// options.pay_time = 'b'\r\n\t\t\tconsole.log('options11', options);\r\n\t\t\tif (options.rk == 'shopping') {\r\n\t\t\t\t// 商品详情进入\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"请通过店铺详情进入\",\r\n\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// uni.switchTab({\r\n\t\t\t\t\t// \turl:'/pages/Home/index'\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t\t// 获取门店餐位列表\r\n\t\t\tthis.$request(\"/food/Seat/geSeatList2\", {\r\n\t\t\t\tstore_id: options.id\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.tableList = res.list;\r\n\t\t\t\t// 传了餐位id就匹配出来对应餐位\r\n\t\t\t\tif (options.seat_id) {\r\n\t\t\t\t\tlet obj = res.list.filter((item) => item.id == options.seat_id)\r\n\t\t\t\t\tconsole.log('obj', obj);\r\n\t\t\t\t\tif (obj.length > 0) {\r\n\t\t\t\t\t\tthis.orderForm.table_id = obj[0].id;\r\n\t\t\t\t\t\tthis.table_code = obj[0].code\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.option = options\r\n\t\t\tthis.workerType = true //不进入支付，直接下单  第一单需要支付\r\n\t\t\t// 加菜\r\n\t\t\tif (options.addType) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t})\r\n\t\t\t\t// this.workerType = true //不进入支付，直接下单\r\n\t\t\t\t// 点击加菜进来的\r\n\t\t\t\tthis.table_code = options.canwei //餐位code\r\n\t\t\t\tthis.orderForm.order_id = options.orderId //订单id\r\n\t\t\t\tconsole.log(options.useCoupon)\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet arr = this.tableList.filter((item) => item.code == options.canwei) //餐位号\r\n\t\t\t\t\tconsole.log('arr', arr);\r\n\t\t\t\t\tthis.orderForm.table_id = arr[0].id //餐位id\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}, 2000)\r\n\t\t\t\tthis.addType = true;\r\n\t\t\t\tthis.useCoupon = options.useCoupon !== 'false';\r\n\t\t\t\tthis.orderId = options.orderId\r\n\t\t\t}\r\n\t\t\tif (uni.getStorageSync(\"person_number\")) {\r\n\t\t\t\tthis.orderForm.person_number = uni.getStorageSync(\"person_number\").person_number;\r\n\t\t\t\tthis.numberShow = false;\r\n\t\t\t}\r\n\t\t\t// 代客下单\r\n\t\t\tif (options.workerType) {\r\n\t\t\t\tthis.workerType = true\r\n\t\t\t}\r\n\t\t\tthis.goodsList = uni.getStorageSync(\"shop\" + options.id) || [];\r\n\t\t\tuni.removeStorageSync(\"shop\" + options.id); //删除购物车数据\r\n\t\t\tthis.orderForm.store_id = options.id;\r\n\r\n\t\t\tthis.store_id = options.id;\r\n\t\t\tthis.changePayData();\r\n\t\t\tthis.selectCount(\"first\");\r\n\t\t\t// \r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 是否有token   是否有购物车进入的token \r\n\t\t\t// let shopping = uni.getStorageSync(\"shopping\") //购物车进入\r\n\t\t\t// if (shopping) {\r\n\t\t\t// \t// 商品详情进入，删除缓存\r\n\t\t\t// \tuni.removeStorageSync('shopping');\r\n\t\t\t// } else {\r\n\t\t\t// \t// 没有就返回上一页\r\n\t\t\t// \tuni.navigateBack()\r\n\t\t\t// }\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 删除购物车缓存\r\n\t\t\tclearShopDel() {\r\n\t\t\t\t// this.goodsList = []\r\n\t\t\t\t// this.moneyObj = {}\r\n\t\t\t\treturn false\r\n\t\t\t\tconst keys = uni.getStorageInfoSync().keys;\r\n\t\t\t\tkeys.forEach(key => {\r\n\t\t\t\t\tif (key.startsWith('shop') && /^\\d+$/.test(key.slice(4))) {\r\n\t\t\t\t\t\t// 如果 key 是以 shop 开头，后面是纯数字\r\n\t\t\t\t\t\tuni.removeStorageSync(key);\r\n\t\t\t\t\t\tconsole.log(`已删除本地缓存：${key}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 优惠卷\r\n\t\t\tdiscountClose() {\r\n\t\t\t\tthis.discountShow = false;\r\n\t\t\t\tif (this.checkValue1[0] !== 1) {\r\n\t\t\t\t\tthis.checkValue = [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscanCode() {\r\n\t\t\t\twx.scanCode({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet str = res.path.split(\"?\")[1];\r\n\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\tlet arr = str.split('&');\r\n\t\t\t\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\t\t\t\tobj[arr[i].split('=')[0]] = arr[i].split('=')[1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log('参数',obj);\r\n\t\t\t\t\t\tthis.$request(\"/food/Seat/getScanMsg\", {\r\n\t\t\t\t\t\t\tscan_id: obj.scene\r\n\t\t\t\t\t\t}).then((resule) => {\r\n\t\t\t\t\t\t\t// console.log('二维码数据',resule);\r\n\t\t\t\t\t\t\tthis.orderForm.table_id = resule.seat_id;\r\n\t\t\t\t\t\t\tthis.table_code = resule.seat_code\r\n\t\t\t\t\t\t\tthis.$request(\"/food/Order/userGetOrderDetailByTableID\", {\r\n\t\t\t\t\t\t\t\t// id: obj.id\r\n\t\t\t\t\t\t\t\ttable_id: obj.seat_id\r\n\t\t\t\t\t\t\t}).then((resule_order) => {\r\n\t\t\t\t\t\t\t\t// 有订单号就跳转订单详情\r\n\t\t\t\t\t\t\t\tif (resule_order.order_id) {\r\n\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\turl: \"/order_packages/detail/index?id=\" +\r\n\t\t\t\t\t\t\t\t\t\t\tresule_order.order_id\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectTable() {\r\n\t\t\t\tconsole.log('baseUrl', baseUrl);\r\n\t\t\t\tif (baseUrl == 'https://test.api.xzddd.com') {\r\n\t\t\t\t\tconsole.log('测试地址');\r\n\t\t\t\t\tthis.tableShow = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 正式地址\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttableConfirm(e) {\r\n\t\t\t\t// return false\r\n\t\t\t\t// const info = e.value[0];\r\n\t\t\t\tconst info = this.tableList[e]\r\n\t\t\t\tconsole.log('确定', info.code);\r\n\t\t\t\tif (info) {\r\n\t\t\t\t\tthis.orderForm.table_id = info.id;\r\n\t\t\t\t\tthis.table_code = info.code;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tableShow = false;\r\n\t\t\t},\r\n\t\t\tchangePayData() {\r\n\t\t\t\tif (this.goodsList.length) {\r\n\t\t\t\t\tthis.formData.goods_list = this.goodsList.map(item => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tgoods_type: item.type === 1 ? 'b' : 'a',\r\n\t\t\t\t\t\t\tgoods_id: item.info.id,\r\n\t\t\t\t\t\t\tnumber: item.num,\r\n\t\t\t\t\t\t\tchoice_des: item.choice_des,\r\n\t\t\t\t\t\t\t[item.info.group_goods ? 'group_goods' : '']: item.info.group_goods\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.formData.goods_list = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/food/Order/computePayData\", {\r\n\t\t\t\t\tgoods_list: this.formData.goods_list,\r\n\t\t\t\t\tcoupon_id: this.orderForm.coupon_id,\r\n\t\t\t\t\tpay_type: this.checkValue[0] === 1 ? 'b' : 'a'\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tthis.moneyObj = result;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePeopleNum(type) {\r\n\t\t\t\tif (type === \"add\") {\r\n\t\t\t\t\tthis.orderForm.person_number += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.orderForm.person_number === 1) return;\r\n\t\t\t\t\tthis.orderForm.person_number -= 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttrash(index) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"温馨提示\",\r\n\t\t\t\t\tcontent: \"确认删除吗？\",\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.goodsList.splice(index, 1);\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"shop\" + this.store_id, this.goodsList);\r\n\t\t\t\t\t\t\tthis.changePayData();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tchangeCarNum(obj, type, index) {\r\n\t\t\t\tif (type === \"add\") {\r\n\t\t\t\t\tobj.num += 1\r\n\t\t\t\t} else if (type === \"min\") {\r\n\t\t\t\t\tif (obj.num === 1) {\r\n\t\t\t\t\t\tthis.goodsList.splice(index, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.num -= 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"shop\" + this.store_id, this.goodsList);\r\n\t\t\t\tthis.changePayData();\r\n\t\t\t},\r\n\t\t\tselectCount(type) {\r\n\t\t\t\tlet goods_list = [];\r\n\t\t\t\tif (this.goodsList.length) {\r\n\t\t\t\t\tgoods_list = this.goodsList.map(item => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tgoods_type: item.type === 1 ? 'b' : 'a',\r\n\t\t\t\t\t\t\tgoods_id: item.info.id,\r\n\t\t\t\t\t\t\tnumber: item.num,\r\n\t\t\t\t\t\t\tchoice_des: item.choice_des,\r\n\t\t\t\t\t\t\t[item.group_goods ? 'group_goods' : '']: item.group_goods\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/food/Coupon/getOrderCoupon\", {\r\n\t\t\t\t\tstore_id: this.store_id,\r\n\t\t\t\t\tgoods_list\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.discountList = res.list;\r\n\t\t\t\t\tif (this.workerType) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (type === \"first\") {\r\n\t\t\t\t\t\tthis.discountFirst = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.discountFirst = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (type === \"first\" && this.discountList.length === 0) {\r\n\t\t\t\t\t\tthis.discountShow = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.discountShow = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchangePayType(type) {\r\n\t\t\t\tthis.payType = type;\r\n\t\t\t},\r\n\t\t\tgetCoupon(item) {\r\n\t\t\t\tthis.$request(\"/food/Coupon/hasCoupon\", {\r\n\t\t\t\t\tcoupon_id: item.id\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.selectCount();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tuseCouponEven(item) {\r\n\t\t\t\tthis.orderForm.coupon_id = item.id;\r\n\t\t\t\tthis.discountShow = false;\r\n\t\t\t\tthis.changePayData()\r\n\t\t\t},\r\n\t\t\tcheckboxChange(e) {\r\n\t\t\t\tthis.checkValue = e;\r\n\t\t\t\tthis.changePayData()\r\n\t\t\t},\r\n\t\t\t// 下单 \r\n\t\t\tzj_order() {\r\n\t\t\t\tif (!this.table_code || !this.orderForm.table_id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先选择餐位号\",\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.goodsList.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"商品为空\",\r\n\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.workerType) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: \"请稍后……\",\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet orderForm = {\r\n\t\t\t\t\t\t...this.orderForm,\r\n\t\t\t\t\t\t...this.formData,\r\n\t\t\t\t\t\t// ...uni.getStorageSync(\"workerOrder\"),\r\n\t\t\t\t\t\tlocation: '',\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.option.help_user_order) {\r\n\t\t\t\t\t\torderForm.help_user_order = this.option.help_user_order\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.option.help_user_coupon) {\r\n\t\t\t\t\t\torderForm.help_user_coupon = this.option.help_user_coupon\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.option.help_user_platform) {\r\n\t\t\t\t\t\torderForm.help_user_platform = this.option.help_user_platform\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// console.log('orderForm', orderForm);\r\n\t\t\t\t\tconst that = this\r\n\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\ttype: 'wgs84', // 返回 GPS 坐标，也可以使用 'gcj02'（适用于高德、微信地图）\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t// console.log('经度：' + res.longitude);\r\n\t\t\t\t\t\t\t// console.log('纬度：' + res.latitude);\r\n\t\t\t\t\t\t\torderForm.location = res.longitude + ',' + res.latitude\r\n\t\t\t\t\t\t\tthat.jwdxx = res.longitude + ',' + res.latitude\r\n\t\t\t\t\t\t\t// orderForm.location = '91.129157,29.653201'//测试用经纬度写死，测完注释\r\n\t\t\t\t\t\t\t// orderForm.help_user_coupon = orderForm.help_user_coupon ? orderForm.help_user_coupon * 1 : 0\r\n\t\t\t\t\t\t\t// 默认是true 可以请求  发起了请求 就变成false,不允许请求\r\n\t\t\t\t\t\t\tif (that.is_request_ok) {\r\n\t\t\t\t\t\t\t\tthat.is_request_ok = false //不可以请求了\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"请耐心等待...\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn false //阻止请求\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log('pay_time', that.option.pay_time); // a稍后支付  b立即支付\r\n\t\t\t\t\t\t\tif (that.option.pay_time == 'a') {\r\n\t\t\t\t\t\t\t\tif (that.visOrderId) {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '订单提示',\r\n\t\t\t\t\t\t\t\t\t\tcontent: '当前订单已提交，是否查看详情？',\r\n\t\t\t\t\t\t\t\t\t\tconfirmText: '查看详情',\r\n\t\t\t\t\t\t\t\t\t\tcancelText: '立即支付',\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【查看详情】');\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\t\t\t\t\t// uni.removeStorageSync(\"shop\" + that.store_id);\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"workerOrder\"); //下单结束后清除代金卷\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 执行跳转到订单详情页等操作\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【立即支付】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 执行支付逻辑\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.$request(\"/food/User/getUserInfo\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.userMoney = res.money;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.payShow = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t}, 4000)\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthat.$request(\"/food/Order/createOrder\", orderForm).then(res => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('结果', res);\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t\t\tif (res.result === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.visOrderId = res.order_id\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '订单提示',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: '当前订单已提交，是否查看详情？',\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfirmText: '查看详情',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcancelText: '立即支付',\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【查看详情】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// uni.removeStorageSync(\"shop\" + that.store_id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"workerOrder\"); //下单结束后清除代金卷\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 执行跳转到订单详情页等操作\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【立即支付】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 执行支付逻辑\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.$request(\"/food/User/getUserInfo\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.userMoney = res.money;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.payShow = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t}, 4000)\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"下单失败\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t} else if (that.option.pay_time == 'b') {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthat.$request(\"/food/User/getUserInfo\").then(res => {\r\n\t\t\t\t\t\t\t\t\tthat.userMoney = res.money;\r\n\t\t\t\t\t\t\t\t\tthat.payShow = true;\r\n\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\tconsole.log('获取位置失败：', err);\r\n\t\t\t\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t\t\t\tconsole.log('that.jwdxx', that.jwdxx);\r\n\t\t\t\t\t\t\tif (that.jwdxx.length > 0) {\r\n\t\t\t\t\t\t\t\t// 以获取到定位\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// 未获取到定位\r\n\t\t\t\t\t\t\t\torderForm.location = uni.getStorageSync('mr_location') ? uni.getStorageSync(\r\n\t\t\t\t\t\t\t\t\t'mr_location') : ''\r\n\t\t\t\t\t\t\t\tif (that.is_request_ok) {\r\n\t\t\t\t\t\t\t\t\tthat.is_request_ok = false //不可以请求了\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"请耐心等待...\",\r\n\t\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\treturn false //阻止请求\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconsole.log('pay_time', that.option.pay_time); // a稍后支付  b立即支付\r\n\t\t\t\t\t\t\t\tconsole.log('pay_time', that.option.pay_time); // a稍后支付  b立即支付\r\n\t\t\t\t\t\t\t\tif (that.option.pay_time == 'a') {\r\n\t\t\t\t\t\t\t\t\tif (that.visOrderId) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '订单提示',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: '当前订单已提交，是否查看详情？',\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmText: '查看详情',\r\n\t\t\t\t\t\t\t\t\t\t\tcancelText: '立即支付',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【查看详情】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// uni.removeStorageSync(\"shop\" + that.store_id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"workerOrder\"); //下单结束后清除代金卷\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 执行跳转到订单详情页等操作\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【立即支付】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 执行支付逻辑\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.$request(\"/food/User/getUserInfo\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.userMoney = res.money;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.payShow = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t}, 4000)\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthat.$request(\"/food/Order/createOrder\", orderForm).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('结果', res);\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.result === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.visOrderId = res.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '订单提示',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '当前订单已提交，是否查看详情？',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmText: '查看详情',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelText: '立即支付',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【查看详情】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// uni.removeStorageSync(\"shop\" + that.store_id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.removeStorageSync(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"workerOrder\"); //下单结束后清除代金卷\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 执行跳转到订单详情页等操作\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击了【立即支付】');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 执行支付逻辑\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.$request(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"/food/User/getUserInfo\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.userMoney = res\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.money;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.payShow = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, 4000)\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"下单失败\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t} else if (that.option.pay_time == 'b') {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tthat.$request(\"/food/User/getUserInfo\").then(res => {\r\n\t\t\t\t\t\t\t\t\t\tthat.userMoney = res.money;\r\n\t\t\t\t\t\t\t\t\t\tthat.payShow = true;\r\n\t\t\t\t\t\t\t\t\t\tthat.is_request_ok = true //请求结束了\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// }, 5000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request(\"/food/User/getUserInfo\").then(res => {\r\n\t\t\t\t\tthis.userMoney = res.money;\r\n\t\t\t\t\tthis.payShow = true;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 弹窗加菜 下单\r\n\t\t\ttc_confirm() {\r\n\t\t\t\tif (!this.payFlag) return;\r\n\t\t\t\tthis.payFlag = false\r\n\t\t\t\tlet pay_type = \"\"\r\n\t\t\t\tif (this.checkValue[0] === 1) {\r\n\t\t\t\t\tif (this.payType === 1) {\r\n\t\t\t\t\t\tpay_type = 'd'\r\n\t\t\t\t\t} else if (this.payType === 2) {\r\n\t\t\t\t\t\tpay_type = 'b'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.checkValue.length === 0) {\r\n\t\t\t\t\tif (this.payType === 1) {\r\n\t\t\t\t\t\tpay_type = 'c'\r\n\t\t\t\t\t} else if (this.payType === 2) {\r\n\t\t\t\t\t\tpay_type = 'a'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet orderForm = {\r\n\t\t\t\t\t...this.orderForm,\r\n\t\t\t\t\t...this.formData,\r\n\t\t\t\t\tlocation: ''\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(orderForm)\r\n                console.log('打印订单号',this.visOrderId);\r\n\r\n                const that = this\r\n\t\t\t\tthat.btnBianshe = true//按钮变色\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"请稍后……\",\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t// 有订单号\r\n\t\t\t\t\tif (that.visOrderId) {\r\n\t\t\t\t\t\tthat.$request(\"/food/Order/payOrder\", {\r\n\t\t\t\t\t\t\torder_id:  that.visOrderId,\r\n\t\t\t\t\t\t\tcoupon_id: that.orderForm.coupon_id,\r\n\t\t\t\t\t\t\tpay_type\r\n\t\t\t\t\t\t}).then(pay => {\r\n\t\t\t\t\t\t\tthat.btnBianshe = false//按钮变色\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tif (pay.result === 1) {\r\n\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tif (that.addType) {\r\n\t\t\t\t\t\t\t\t\t\t// 加菜\r\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' + res\r\n\t\t\t\t\t\t\t\t\t\t\t\t.order_id\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/Order/index\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t} else if (pay.result === 3) {\r\n\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\tprovider: \"wxpay\",\r\n\t\t\t\t\t\t\t\t\t...pay.pay_data,\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (that.addType) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 加菜\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/Order/index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"用户取消支付\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付失败\",\r\n\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tthat.btnBianshe = false//按钮变色\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.$request(\"/food/Order/createOrder\", orderForm).then(res => {\r\n\t\t\t\t\t\t\tthat.btnBianshe = false//按钮变色\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tthat.visOrderId = res.order_id\r\n\t\t\t\t\t\t\tif (res.result === 1) {\r\n\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"shop\" + that.store_id);\r\n\t\t\t\t\t\t\t\tthat.$request(\"/food/Order/payOrder\", {\r\n\t\t\t\t\t\t\t\t\torder_id: res.order_id,\r\n\t\t\t\t\t\t\t\t\tcoupon_id: that.orderForm.coupon_id,\r\n\t\t\t\t\t\t\t\t\tpay_type\r\n\t\t\t\t\t\t\t\t}).then(pay => {\r\n\t\t\t\t\t\t\t\t\tif (pay.result === 1) {\r\n\t\t\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (that.addType) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 加菜\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/Order/index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t} else if (pay.result === 3) {\r\n\t\t\t\t\t\t\t\t\t\tthat.clearShopDel() //删除购物车缓存\r\n\t\t\t\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\t\t\t\tprovider: \"wxpay\",\r\n\t\t\t\t\t\t\t\t\t\t\t...pay.pay_data,\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (that.addType) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// 加菜\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/order_packages/cpxdz/index?order=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.order_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/Order/index\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"用户取消支付\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"支付失败\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('1111222');\r\n\t\t\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"下单失败\",\r\n\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tthat.btnBianshe = false//按钮变色\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tthat.payFlag = true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t},2000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.confirmBianshe{\r\n\t\twidth: 80vw;\r\n\t\theight: 12vw;\r\n\t\tline-height: 12vw;\r\n\t\ttext-align: center;\r\n\t\tbackground: #ff0000;\r\n\t\tborder-radius: 6vw;\r\n\t\tmargin: 10vw auto 0;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 4vw;\r\n\t\tcolor: rgb(245, 232, 174);\r\n\t}\r\n\t\r\n\t.payContent {\r\n\t\tpadding: 4.93vw 4vw;\r\n\r\n\t\t>.confirm {\r\n\t\t\twidth: 80vw;\r\n\t\t\theight: 12vw;\r\n\t\t\tline-height: 12vw;\r\n\t\t\ttext-align: center;\r\n\t\t\tbackground: #000000;\r\n\t\t\tborder-radius: 6vw;\r\n\t\t\tmargin: 10vw auto 0;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 4vw;\r\n\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t}\r\n\r\n\t\t>.chooseItem {\r\n\t\t\tmargin-top: 8.27vw;\r\n\t\t\tpadding: 0 6.67vw;\r\n\r\n\t\t\t>.item {\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\tcolor: #666666;\r\n\r\n\t\t\t\t>image {\r\n\t\t\t\t\tmax-width: 5.33vw;\r\n\t\t\t\t\tmax-height: 5.33vw;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>text {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tmargin: 0 2.67vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t>.title {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 4.27vw;\r\n\t\t\tcolor: #000000;\r\n\t\t}\r\n\t}\r\n\r\n\t.discount_checkbox {\r\n\t\tbackground: #FFFFFF;\r\n\t\tmargin: -10vw auto 0;\r\n\t\tborder-radius: 5.33vw;\r\n\t\twidth: calc(100% - 10vw);\r\n\t\theight: 8vw;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 5vw;\r\n\t}\r\n\r\n\t.discountContent {\r\n\t\tpadding: 5.33vw 4vw 0;\r\n\r\n\t\t>.title {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 4.27vw;\r\n\t\t\tcolor: #000000;\r\n\t\t\tmargin-bottom: 5.33vw;\r\n\t\t}\r\n\r\n\t\t.item_box {\r\n\t\t\tpadding: 2.67vw;\r\n\t\t\tbackground: #FBFBFB;\r\n\t\t\tborder-radius: 1.33vw;\r\n\t\t\tborder: 0.27vw solid #ED1805;\r\n\t\t\tmargin-bottom: 4vw;\r\n\r\n\t\t\t>.get {\r\n\t\t\t\t>.charge {\r\n\t\t\t\t\twidth: 21.33vw;\r\n\t\t\t\t\theight: 8vw;\r\n\t\t\t\t\tbackground: #000000;\r\n\t\t\t\t\tborder-radius: 4vw;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.type {\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\tcolor: #666666;\r\n\t\t\t\tmargin: 1.33vw 0;\r\n\t\t\t}\r\n\r\n\t\t\t>.item {\r\n\t\t\t\tpadding-bottom: 2.67vw;\r\n\t\t\t\tborder-bottom: solid 1px #F5F5F5;\r\n\r\n\t\t\t\t>.content {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #ED1805;\r\n\t\t\t\t\tflex: auto;\r\n\t\t\t\t\talign-items: flex-end;\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.title {\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tfont-size: 3.73vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tflex: auto;\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>image {\r\n\t\t\t\t\twidth: 9.6vw;\r\n\t\t\t\t\theight: 9.6vw;\r\n\t\t\t\t\tborder-radius: 1.33vw;\r\n\t\t\t\t\tmargin-right: 2.67vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.container {\r\n\t\theight: 100%;\r\n\t\tmin-height: calc(100vh - 13vw - constant(safe-area-inset-bottom));\r\n\t\tmin-height: calc(100vh - 13vw - env(safe-area-inset-bottom));\r\n\t\tbackground: #F5F5F5;\r\n\t\tpadding-bottom: calc(13vw + constant(safe-area-inset-bottom));\r\n\t\t/*兼容 IOS&gt;11.2*/\r\n\t\tpadding-bottom: calc(13vw + env(safe-area-inset-bottom));\r\n\t\t/*兼容 IOS&gt;11.2*/\r\n\r\n\t\t>.bottom {\r\n\t\t\twidth: calc(100% - 8vw - 2px);\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t\t\tpadding-left: 4vw;\r\n\t\t\tpadding-right: 4vw;\r\n\t\t\tleft: 0;\r\n\t\t\theight: 12.8vw;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tborder-radius: 1.33vw 1.33vw 0 0;\r\n\t\t\tborder: 1px solid #999999;\r\n\t\t\tpadding-top: 2.67vw;\r\n\r\n\t\t\t>.right {\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\tcolor: #FA4741;\r\n\r\n\t\t\t\t>.gotIt {\r\n\t\t\t\t\twidth: 26.67vw;\r\n\t\t\t\t\theight: 8vw;\r\n\t\t\t\t\tline-height: 8vw;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tbackground: #000000;\r\n\t\t\t\t\tborder-radius: 6vw;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t\t\t\tmargin-left: 4vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.left {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 4vw;\r\n\t\t\t\tcolor: #ED1805;\r\n\t\t\t\tflex: auto;\r\n\r\n\t\t\t\t>.bottom {\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.top {\r\n\t\t\t\t\tmargin-bottom: 1.73vw;\r\n\r\n\t\t\t\t\t>.left {\r\n\t\t\t\t\t\t>text {\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\tmargin-left: 1.33vw;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t>.right {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 2.67vw;\r\n\t\t\t\t\t\tcolor: #FA4741;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t>.shopInfo {\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tpadding: 4vw;\r\n\r\n\t\t\t>.item {\r\n\t\t\t\tborder-bottom: solid 1px #999999;\r\n\r\n\t\t\t\t>.title {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tmargin-top: 5.33vw;\r\n\t\t\t\t\tmargin-bottom: 2.67vw;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.content {\r\n\t\t\t\t\t>image {\r\n\t\t\t\t\t\twidth: 21.33vw;\r\n\t\t\t\t\t\theight: 21.33vw;\r\n\t\t\t\t\t\tborder-radius: 2.67vw;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t>.con {\r\n\t\t\t\t\t\twidth: 67vw;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.price {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4.8vw;\r\n\t\t\t\t\tcolor: #ED1805;\r\n\t\t\t\t\tmargin-top: 4vw;\r\n\t\t\t\t\tmargin-bottom: 4vw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.label {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t>.info {\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tpadding: 4vw;\r\n\t\t\tmargin-bottom: 1.33vw;\r\n\r\n\t\t\t>.textarea {\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tborder-radius: 1.33vw;\r\n\t\t\t\tmargin-top: 1.73vw;\r\n\t\t\t\tpadding: 2vw;\r\n\r\n\t\t\t\t>textarea {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.option {\r\n\t\t\t\tmargin: 4.13vw 0;\r\n\r\n\t\t\t\t>.right {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.left {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 4vw;\r\n\t\t\t\t\tcolor: #000000;\r\n\r\n\t\t\t\t\t>.scanCode {\r\n\t\t\t\t\t\twidth: 15.2vw;\r\n\t\t\t\t\t\theight: 6.67vw;\r\n\t\t\t\t\t\tline-height: 6.67vw;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: #000000;\r\n\t\t\t\t\t\tborder-radius: 4vw;\r\n\t\t\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\t\t\tcolor: rgb(245, 232, 174);\r\n\t\t\t\t\t\tmargin-left: 2vw;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t>text {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\tmargin-left: 4vw;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.label {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 3.2vw;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.number {\r\n\t\t\twidth: 34.67vw;\r\n\t\t\theight: 8vw;\r\n\t\t\tborder-radius: 4vw;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t>.min {\r\n\t\t\t\twidth: 10.67vw;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #000000;\r\n\t\t\t}\r\n\r\n\t\t\t>.num {\r\n\t\t\t\twidth: 13.33vw;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #F5F5F5;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tfont-size: 4.27vw;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\r\n\t\t\t>.add {\r\n\t\t\t\twidth: 10.67vw;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #000000;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1756450784618\n      var cssReload = require(\"D:/Users/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}