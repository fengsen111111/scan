(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["home_packages/shop_detail/index"],{"1a56":function(o,e,t){"use strict";(function(o,e){var n=t("47a9");t("5e4b");n(t("3240"));var i=n(t("96b4"));o.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("3223")["default"],t("df3c")["createPage"])},"593d":function(o,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return s})),t.d(e,"a",(function(){return n}));var n={uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"2b07"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"829e"))},uEmpty:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(t.bind(null,"c813"))}},i=function(){var o=this,e=o.$createElement,n=(o._self._c,o.shopInfo.id&&"N"===o.shopInfo.is_collection?t("d7be"):null),i=o.shopInfo.id&&"N"!==o.shopInfo.is_collection?t("f4ce"):null,s=o.shopInfo.id?o.__map(5,(function(e,t){var n=o.__get_orig(e),i=o.getStar(o.shopInfo.star,e+1);return{$orig:n,m2:i}})):null,r=o.shopInfo.id?o.shopInfo.store_images.length:null,a=o.shopInfo.id&&!r?o.shopInfo.brand_images.length:null,u=o.shopInfo.id?o.shopInfo.coupon_list.length:null,d=o.shopInfo.id&&u&&"a"===o.shopInfo.coupon_list[0].discount_type?o.shopInfo.coupon_list[0].top_price.replace(".00",""):null,h=o.shopInfo.id&&u&&"a"===o.shopInfo.coupon_list[0].discount_type?o.shopInfo.coupon_list[0].data.replace(".00",""):null,c=o.shopInfo.id&&u?o.shopInfo.coupon_list.length:null,p=o.shopInfo.id&&u&&c-1?o.shopInfo.coupon_list.length:null,l=o.shopInfo.id&&u&&c-1&&p>1?o.shopInfo.coupon_list.length:null,g=o.shopInfo.id?o.__map(o.rightList,(function(e,t){var n=o.__get_orig(e),i=o.__map(e.list,(function(t,n){var i=o.__get_orig(t),s="Y"!==t.is_group||e.is_buyed?null:t.group_list.length,r="Y"!==t.is_group||e.is_buyed||s?null:o.carIdList.findIndex((function(o){return o.id===t.id})),a="Y"!==t.is_group||e.is_buyed||s?null:o.carIdList.findIndex((function(o){return o.id===t.id})),u="Y"!==t.is_group||e.is_buyed||s||-1==a?null:o.carIdList.find((function(o){return o.id===t.id})),d=("Y"!==t.is_group||e.is_buyed)&&e.is_buyed&&"Y"===e.is_buyed&&(n<3||o.is_zksq)?!t.group_list||!t.group_list.length:null,h=("Y"!==t.is_group||e.is_buyed)&&e.is_buyed&&"Y"===e.is_buyed&&(n<3||o.is_zksq)&&d?o.carIdList.findIndex((function(o){return o.id===t.id})):null,c=("Y"!==t.is_group||e.is_buyed)&&e.is_buyed&&"Y"===e.is_buyed&&(n<3||o.is_zksq)&&d?o.carIdList.findIndex((function(o){return o.id===t.id})):null,p=("Y"!==t.is_group||e.is_buyed)&&e.is_buyed&&"Y"===e.is_buyed&&(n<3||o.is_zksq)&&d&&-1!=c?o.carIdList.find((function(o){return o.id===t.id})):null,l=("Y"!==t.is_group||e.is_buyed)&&e.is_buyed&&"Y"===e.is_buyed?e.list.length:null,g=("Y"!==t.is_group||e.is_buyed)&&e.is_buyed&&"Y"===e.is_buyed&&l>3?e.list.length:null,f="Y"===t.is_group&&!e.is_buyed||e.is_buyed&&"Y"===e.is_buyed?null:o.carIdList.findIndex((function(o){return o.id===t.id})),_="Y"===t.is_group&&!e.is_buyed||e.is_buyed&&"Y"===e.is_buyed?null:o.carIdList.findIndex((function(o){return o.id===t.id})),m="Y"===t.is_group&&!e.is_buyed||e.is_buyed&&"Y"===e.is_buyed||-1==_?null:o.carIdList.find((function(o){return o.id===t.id}));return{$orig:i,g8:s,g9:r,g10:a,g11:u,g12:d,g13:h,g14:c,g15:p,g16:l,g17:g,g18:f,g19:_,g20:m}}));return{$orig:n,l1:i}})):null,f=o.shopInfo.id?o.carIdList&&o.carIdList.length>0:null,_=o.shopInfo.id?o.goodsObj.group_list&&o.goodsObj.group_list.length:null,m=o.shopInfo.id?o.__map(o.goodsObj.group_list,(function(e,t){var n=o.__get_orig(e),i=e.goods_list?e.goods_list.length:null,s=e.goods_list.length;return{$orig:n,g23:i,g24:s}})):null,I=o.shopInfo.id?o.goodsObj.choice_des&&o.goodsObj.choice_des.length&&""!==o.goodsObj.choice_des[0]:null,b=o.shopInfo.id?o.goodsObj.images&&o.goodsObj.images.length:null,S=o.shopInfo.id&&b&&o.goodsObj.images?o.goodsObj.images.length:null,y=o.shopInfo.id?o.goodsObj.choice_des&&o.goodsObj.choice_des.length&&""!==o.goodsObj.choice_des[0]:null,w=o.shopInfo.id?!o.shopCarList||0===o.shopCarList.length:null,v=o.shopInfo.id?!o.shopCarList||0===o.shopCarList.length:null,L=o.shopInfo.id&&o.menuDetail.group_goods?o.menuDetail.group_goods.length:null,k=o.shopInfo.id?o.__map(o.shopInfo.coupon_list,(function(e,t){var n=o.__get_orig(e),i="a"===e.discount_type?e.top_price.replace(".00",""):null,s="a"===e.discount_type?e.data.replace(".00",""):null;return{$orig:n,g32:i,g33:s}})):null,x=o.shopInfo.id?o.__map(o.groupDetail.group_list,(function(e,t){var n=o.__get_orig(e),i="check"===e.type?e.goods_list.length||0:null,s="check"===e.type?o.__map(e.goods_list,(function(e,t){var n=o.__get_orig(e),i=o.groupGoodsId.includes(e.id);return{$orig:n,g35:i}})):null;return{$orig:n,g34:i,l5:s}})):null;o._isMounted||(o.e0=function(e){o.discountShow=!0},o.e1=function(e){o.is_zksq=!o.is_zksq},o.e2=function(e){o.menuShopShow=!1},o.e3=function(e){o.menuShopShow=!1},o.e4=function(e){o.shopShow=!1,o.goodsNum=1},o.e5=function(e){o.shopShow=!1,o.goodsNum=1},o.e6=function(e){o.shopCarShow=!1},o.e7=function(e){o.shopCarShow=!1},o.e8=function(e){o.menuDetailShow=!1,o.shopCarShow=!0},o.e9=function(e){o.menuDetailShow=!1,o.shopCarShow=!0},o.e10=function(e){o.discountShow=!1},o.e11=function(e){o.discountShow=!1},o.e12=function(e){o.peopleShow=!1},o.e13=function(e){o.peopleShow=!1},o.e14=function(e){o.loginShow=!1},o.e15=function(e){o.remarkShow=!1,o.remarkIndex=null},o.e16=function(e){o.remarkShow=!1,o.remarkIndex=null},o.e17=function(e){o.groupDetailShow=!1},o.e18=function(e){o.groupDetailShow=!1}),o.$mp.data=Object.assign({},{$root:{m0:n,m1:i,l0:s,g0:r,g1:a,g2:u,g3:d,g4:h,g5:c,g6:p,g7:l,l2:g,g21:f,g22:_,l3:m,g25:I,g26:b,g27:S,g28:y,g29:w,g30:v,g31:L,l4:k,l6:x}})},s=[]},"6a70":function(o,e,t){},"96b4":function(o,e,t){"use strict";t.r(e);var n=t("593d"),i=t("d384");for(var s in i)["default"].indexOf(s)<0&&function(o){t.d(e,o,(function(){return i[o]}))}(s);t("a57a");var r=t("828b"),a=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=a.exports},a417:function(o,e,t){"use strict";(function(o,n){var i=t("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(t("7eb4")),r=i(t("ee10")),a={data:function(){return{appInfo:{logo:t("8b71"),appName:"雪域慧生活"},recommendList:[],shopInfo:{},type:0,leftList:[],rightList:[],currentIndex:0,rightInto:"",leftInto:"",topList:[],discountShow:!1,shopCarList:[],changeFlag:!1,shopShow:!1,menuShopShow:!1,shopCarShow:!1,goodsNum:1,goodsObj:{},menuDetail:{},menuDetailShow:!1,moneyObj:{},addType:!1,scanType:!1,workerType:!1,scanInfo:{},useCoupon:!1,orderId:"",status:{a:"平台通用",b:"品牌通用",c:"门店通用",d:"分类通用",e:"菜品限定",f:"套餐限定"},shopNumber:0,carIdList:[],peopleShow:!1,person_number:1,loginShow:!1,remarkIndex:null,remarkShow:!1,remarkObj:{},remarkType:null,remarkFlag:!0,groupDetailShow:!1,groupDetail:{},groupContain:[],groupGoods:[],groupGoodsId:[],is_zksq:!1,option:{},jwdxx:""}},onLoad:function(e){var t=this;return(0,r.default)(s.default.mark((function n(){return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("店铺详情传参",e),!e.scene){n.next=6;break}return n.next=4,t.$request("/food/Seat/getScanMsg",{scan_id:e.scene});case 4:e=n.sent,console.log("option",e);case 6:t.option=e,o.getStorageSync("scanInfo")&&!e.id&&(e.id=o.getStorageSync("scanInfo").store_id,t.scanInfo=o.getStorageSync("scanInfo"),t.scanType=!0,o.removeStorageSync("scanInfo")),"scan"===e.type&&(console.log("扫码进入",e),e.id=e.store_id,t.scanInfo={seat_code:decodeURIComponent(e.seat_code).split("#")[0],seat_id:e.seat_id},t.scanType=!0),"workerOrder"===e.type&&(t.workerType=!0),"add"===e.type&&(t.addType=!0,t.useCoupon=e.useCoupon,t.orderId=e.orderId),o.getLocation({type:"wgs84",success:function(){var e=(0,r.default)(s.default.mark((function e(n){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.jwdxx=n.longitude+","+n.latitude,o.setStorageSync("mr_location",t.jwdxx),t._getStoreDetail();case 3:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()}),setTimeout((function(){t.jwdxx.length>0||(t.jwdxx=o.getStorageSync("mr_location")?o.getStorageSync("mr_location"):"",t._getStoreDetail())}),3e3),o.showLoading({title:"请稍后"}),t.$request("/food/Goods/getGoodsList",{store_id:e.id}).then((function(e){t.leftList=e.list.map((function(o){return{id:o.id,icon:o.icon,name:o.name}})),t.recommendList=e.top_goods_list,t.rightList=e.list,setTimeout((function(){o.hideLoading();var e=o.createSelectorQuery();e.selectAll(".goodsClass").boundingClientRect((function(o){o&&o.map((function(o,e){var n=e>0?t.topList[e-1]:0;n+=o.height,t.topList.push(n)}))})).exec()}),1e3)}));case 15:case"end":return n.stop()}}),n)})))()},onShow:function(){var e=this;this.shopCarList=o.getStorageSync("shop"+this.shopInfo.id),this.carIdList=[],this.shopCarList&&(this.shopCarList.map((function(o){e.carIdList.push({id:o.info.id,number:o.num})})),this.changePrice());var t=this;setTimeout((function(){t.orderTo()}),2e3)},methods:{_getStoreDetail:function(){var e=this;return(0,r.default)(s.default.mark((function t(){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.option.id){t.next=3;break}return o.showToast({title:"网络错误，请联系工作人员",icon:"none",duration:3e3}),t.abrupt("return",!1);case 3:return t.next=5,e.$request("/food/Store/getStoreDetail",{location:e.jwdxx,store_id:e.option.id});case 5:e.shopInfo=t.sent,e.shopCarList=o.getStorageSync("shop"+e.shopInfo.id),e.shopCarList&&(e.shopCarList.map((function(o){e.carIdList.push({id:o.info.id,number:o.num})})),e.changePrice()),o.setStorageSync("mr_location",e.shopInfo.location),console.log("this.shopInfo",e.shopInfo),console.log("this.shopCarList",e.shopCarList);case 11:case"end":return t.stop()}}),t)})))()},orderTo:function(){var o=this;if(this.addType||"home"==this.option.ly)return!1;console.log("当前餐位信息",this.scanInfo),this.$request("/food/Order/userGetOrderDetailByTableID",{table_id:this.scanInfo.seat_id}).then((function(e){console.log("当前座位是否有订单号",e),e.order_id&&o.$nav("/order_packages/detail/index",{id:e.order_id,time_status:"",pay_status:""})}))},login:function(){var e=this;return(0,r.default)(s.default.mark((function t(){var n,i,r,a,u,d;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o.showLoading({title:"请稍后"}),t.next=3,o.login();case 3:return n=t.sent,i=n.code,t.next=7,e.$request("/factory_system/Base/wechatUserRegister",{code:i,platform:"mini"});case 7:return r=t.sent,a=r.mini_openid,o.setStorageSync("openId",a),t.next=12,e.$request("/food/User/loginAndRegister",{openid:a});case 12:u=t.sent,d=u.token,o.setStorageSync("token",d),o.hideLoading(),e.loginShow=!1;case 17:case"end":return t.stop()}}),t)})))()},changeRemark:function(o){this.remarkIndex=o},changePeopleNum:function(o){this.person_number=o+1},peopleConfirm:function(){o.setStorageSync("person_number",{timestamp:(new Date).getTime(),person_number:this.person_number}),this.peopleShow=!1},changePrice:function(){var o=this;this.shopNumber=0;var e={goods_list:[]};this.shopCarList.length?(e.goods_list=this.shopCarList.map((function(e){return o.shopNumber+=e.num,{goods_type:1===e.type?"b":"a",goods_id:e.info.id,number:e.num}})),this.$request("/food/Order/computerGoods",e).then((function(e){o.moneyObj=e}))):(this.moneyObj={},this.carIdList=[])},changeCurrent:function(o,e){this.currentIndex=e,this.leftInto="r"+o,this.rightInto="l"+o,this.changeFlag=!0},collect:function(){var o=this;return(0,r.default)(s.default.mark((function e(){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.shopInfo.is_collection="N"===o.shopInfo.is_collection?"Y":"N",e.next=3,o.$request("/food/Store/collectionStore",{store_id:o.shopInfo.id});case 3:case"end":return e.stop()}}),e)})))()},getStar:function(o,e){if(e-1>o)return"0%";if(Math.floor(o)>=e)return"100%";var t=o+"",n=t.split(".")[1];return 1===n.length&&(n*=10),n+"%"},openMap:function(){o.openLocation({longitude:Number(this.shopInfo.location.split(",")[0]),latitude:Number(this.shopInfo.location.split(",")[1]),name:this.shopInfo.name})},callPhone:function(e){o.makePhoneCall({phoneNumber:e})},rightScroll:function(o){if(!this.changeFlag){var e=o.target.scrollTop,t=this.topList.findIndex((function(o,t){return e<=o}));this.currentIndex=t}this.changeFlag=!1},openCar:function(){this.shopCarShow=!0,this.shopCarList=o.getStorageSync("shop"+this.shopInfo.id),this.changePrice()},menuShopping:function(o){this.goodsObj=o,this.menuShopShow=!0},getCoupon:function(e){var t=this;"Y"!==e.has_status&&t.$request("/food/Coupon/hasCoupon",{coupon_id:e.id}).then((function(e){o.getLocation({type:"wgs84",success:function(){var e=(0,r.default)(s.default.mark((function e(n){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.shopInfo.id){e.next=3;break}return o.showToast({title:"网络错误，请联系工作人员",icon:"none",duration:3e3}),e.abrupt("return",!1);case 3:return e.next=5,t.$request("/food/Store/getStoreDetail",{location:n.longitude+","+n.latitude,store_id:t.shopInfo.id});case 5:t.shopInfo=e.sent;case 6:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()})}))},openShopping:function(o){"Y"!==o.is_group?(this.goodsObj=o,this.shopShow=!0):this.selGroup(o)},changeNum:function(o){if("add"===o)this.goodsNum+=1;else if("min"===o){if(1===this.goodsNum)return;this.goodsNum-=1}},previewImg:function(e){o.previewImage({urls:[e]})},addShopCar:function(e){var t=this;console.log("goodsObj",this.goodsObj,e);var n=o.getStorageSync("shop"+this.shopInfo.id),i=!0;n?(n.map((function(o){o.info.id===t.goodsObj.id&&(o.num+=t.goodsNum,o.choice_des=t.goodsObj.choice_des[t.remarkIndex]||"",i=!1)})),i&&n.push({num:this.goodsNum,type:e,choice_des:this.goodsObj.choice_des[this.remarkIndex]||"",info:this.goodsObj}),this.shopCarList=n,o.setStorageSync("shop"+this.shopInfo.id,n)):(n=[{num:this.goodsNum,type:e,choice_des:this.goodsObj.choice_des[this.remarkIndex]||"",info:this.goodsObj}],this.shopCarList=n,o.setStorageSync("shop"+this.shopInfo.id,n)),this.carIdList=[],this.shopCarList.map((function(o){t.carIdList.push({id:o.info.id,number:o.num})})),this.remarkIndex=null,this.changePrice(),this.shopShow=!1,this.menuShopShow=!1,this.goodsNum=1},showDetail:function(o){console.log(o),this.menuDetail=o,this.shopCarShow=!1,this.menuDetailShow=!0},changeCarNum:function(e,t,n){var i=this;"add"===t?e.num+=1:"min"===t&&(1===e.num?(this.remarkFlag=!0,this.shopCarList.splice(n,1)):e.num-=1),o.setStorageSync("shop"+this.shopInfo.id,this.shopCarList),this.carIdList=[],this.shopCarList&&(this.shopCarList.map((function(o){i.carIdList.push({id:o.info.id,number:o.num})})),this.changePrice())},scanTableCode:function(){var e=this;if(!o.getStorageSync("token"))return this.loginShow=!0,!1;this.shopCarList=o.getStorageSync("shop"+this.shopInfo.id),this.shopCarList&&0!==this.shopCarList.length?(this.addType?this.$nav("/home_packages/place_order/index",{id:this.shopInfo.id,addType:!0,useCoupon:this.useCoupon,orderId:this.orderId,canwei:this.option.canwei,pay_time:this.shopInfo.pay_time,rk:"shopping"}):this.scanType?this.$nav("/home_packages/place_order/index",{id:this.shopInfo.id,scanType:!0,table_code:this.scanInfo.seat_code,seat_id:this.scanInfo.seat_id,pay_time:this.shopInfo.pay_time,rk:"shopping"}):"home"==this.option.ly?n.scanCode({success:function(t){for(var n=t.path.split("?")[1],i={},s=n.split("&"),r=0;r<s.length;r++)i[s[r].split("=")[0]]=s[r].split("=")[1];e.$request("/food/Seat/getScanMsg",{scan_id:i.scene}).then((function(t){e.scanInfo.seat_id=t.seat_id,e.scanInfo.seat_code=t.seat_code,e.$request("/food/Order/userGetOrderDetailByTableID",{table_id:e.scanInfo.seat_id}).then((function(t){t.order_id?o.switchTab({url:"/order_packages/detail/index?id="+t.order_id}):e.$request("/food/Seat/geSeatList2",{store_id:e.shopInfo.id}).then((function(t){if(e.scanInfo.seat_id){var n=t.list.filter((function(o){return o.id==e.scanInfo.seat_id}));console.log("obj",n),n.length>0?e.$nav("/home_packages/place_order/index",{id:e.shopInfo.id,scanType:!0,table_code:e.scanInfo.seat_code,seat_id:e.scanInfo.seat_id,pay_time:e.shopInfo.pay_time,rk:"shopping"}):o.showToast({title:"当前桌码与商家不是同一家",icon:"none",duration:4e3})}}))}))}))}}):this.workerType?this.$nav("/home_packages/place_order/index",{id:this.shopInfo.id,workerType:!0,table_code:"",seat_id:"",help_user_coupon:this.option.help_user_coupon?this.option.help_user_coupon:"",help_user_order:this.option.help_user_order?this.option.help_user_order:"",help_user_platform:this.option.help_user_platform?this.option.help_user_platform:"",pay_time:this.shopInfo.pay_time,rk:"shopping"}):this.$nav("/home_packages/place_order/index",{id:this.shopInfo.id,scanType:!1,table_code:"",seat_id:"",pay_time:this.shopInfo.pay_time,rk:"shopping"}),this.shopCarShow=!1):o.showToast({title:"购物车为空",icon:"error"})},selGroup:function(o){var e=this;this.groupDetailShow=!0,this.groupDetail=o,this.groupContain=[],this.groupGoodsId=[],this.groupGoods=[],o.group_list.map((function(o){"single"===o.type&&(e.groupContain=e.groupContain.concat(o.goods_list))}))},addCar:function(e,t,n){var i=this,s=this.carIdList.findIndex((function(o){return o.id===t.id}));if(this.remarkObj.id!==t.id&&(this.remarkFlag=!0),-1===s||t.group_goods){if(t.group_goods&&(this.remarkFlag=!0),null===this.remarkIndex&&t.choice_des.length&&""!==t.choice_des[0]&&this.remarkFlag)return this.remarkObj=t,this.remarkType=e,void(this.remarkShow=!0);this.remarkShow&&(this.remarkFlag=!1,this.remarkShow=!1),this.carIdList.push({id:t.id,number:1})}else"add"===n?this.carIdList[s].number+=1:"min"===n&&(this.carIdList[s].number-=1,0===this.carIdList[s].number&&(this.remarkFlag=!0,this.carIdList.splice(s,1)));var r=o.getStorageSync("shop"+this.shopInfo.id),a=!0,u=null;r?(t.group_goods&&t.group_goods.length||r.map((function(o,e){o.info.id===t.id&&(i.carIdList[e]&&i.carIdList[e].id===t.id?o.num=i.carIdList[e].number:u=e,a=!1)})),(u||0===u)&&r.splice(u,1),a&&r.push({num:1,type:e,choice_des:t.choice_des[this.remarkIndex]||"",info:t}),this.shopCarList=r,o.setStorageSync("shop"+this.shopInfo.id,r)):(r=[{num:this.goodsNum,type:e,choice_des:t.choice_des[this.remarkIndex]||"",info:t}],this.shopCarList=r,o.setStorageSync("shop"+this.shopInfo.id,r)),this.remarkIndex=null,this.changePrice()},selectGood:function(e,t,n){var i=this.groupGoods.findIndex((function(o){return o.goods_id===t.id}));if(-1!==i)return this.groupGoods.splice(i,1),void this.groupGoodsId.splice(i,1);var s=this.groupGoods.findIndex((function(o){return o.parent_id===e}));if(-1!==s)if(1===Number(n))this.groupGoods.splice(s,1,{goods_id:t.id,has_number:t.has_number,parent_id:e,name:t.name,cover_image:t.cover_image}),this.groupGoodsId.splice(s,1,t.id);else{var r=this.groupGoods.filter((function(o){return o.parent_id===e})).length;r<n?(this.groupGoods.push({goods_id:t.id,has_number:t.has_number,parent_id:e,name:t.name,cover_image:t.cover_image}),this.groupGoodsId.push(t.id)):o.showToast({title:"最多选择 ".concat(n," 个"),icon:"none"})}else this.groupGoods.push({goods_id:t.id,has_number:t.has_number,parent_id:e,name:t.name,cover_image:t.cover_image}),this.groupGoodsId.push(t.id)},groupAddCar:function(){var e=this,t=0;if(this.groupDetail.group_list.map((function(o){"check"==o.type&&(t+=Number(o.check_number))})),this.groupGoods.length<t)return o.showToast({title:"请选择商品",icon:"error"}),!1;this.groupContain.map((function(o){e.groupGoods.push({goods_id:o.id,has_number:o.has_number,name:o.name,cover_image:o.cover_image})})),this.groupDetail.group_goods=JSON.parse(JSON.stringify(this.groupGoods)),this.groupGoodsId=[],this.groupGoods=[],this.groupDetailShow=!1,this.addCar(1,this.groupDetail,"add")}}};e.default=a}).call(this,t("df3c")["default"],t("3223")["default"])},a57a:function(o,e,t){"use strict";var n=t("6a70"),i=t.n(n);i.a},d384:function(o,e,t){"use strict";t.r(e);var n=t("a417"),i=t.n(n);for(var s in n)["default"].indexOf(s)<0&&function(o){t.d(e,o,(function(){return n[o]}))}(s);e["default"]=i.a}},[["1a56","common/runtime","common/vendor"]]]);